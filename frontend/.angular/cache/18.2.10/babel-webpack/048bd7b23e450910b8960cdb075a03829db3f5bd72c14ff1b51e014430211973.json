{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { DEFAULT_MAX_CLOCK_SKEW } from '../../constants.js';\nimport { removeTrailingSlash, toAbsoluteUrl } from '../../util/url.js';\nimport { isBrowser } from '../../features.js';\nimport { createHttpOptionsConstructor } from '../../http/options.js';\nimport { enableSharedStorage } from './browser.js';\nimport AuthSdkError from '../../errors/AuthSdkError.js';\nfunction assertValidConfig(args) {\n  args = args || {};\n  var scopes = args.scopes;\n  if (scopes && !Array.isArray(scopes)) {\n    throw new AuthSdkError('scopes must be a array of strings. ' + 'Required usage: new OktaAuth({scopes: [\"openid\", \"email\"]})');\n  }\n  var issuer = args.issuer;\n  if (!issuer) {\n    throw new AuthSdkError('No issuer passed to constructor. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n  var isUrlRegex = new RegExp('^http?s?://.+');\n  if (!isUrlRegex.test(issuer)) {\n    throw new AuthSdkError('Issuer must be a valid URL. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n  }\n  if (issuer.indexOf('-admin.okta') !== -1) {\n    throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' + 'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n  }\n}\nfunction createOAuthOptionsConstructor() {\n  const HttpOptionsConstructor = createHttpOptionsConstructor();\n  return class OAuthOptionsConstructor extends HttpOptionsConstructor {\n    constructor(options) {\n      super(options);\n      assertValidConfig(options);\n      this.issuer = removeTrailingSlash(options.issuer);\n      this.tokenUrl = removeTrailingSlash(options.tokenUrl);\n      this.authorizeUrl = removeTrailingSlash(options.authorizeUrl);\n      this.userinfoUrl = removeTrailingSlash(options.userinfoUrl);\n      this.revokeUrl = removeTrailingSlash(options.revokeUrl);\n      this.logoutUrl = removeTrailingSlash(options.logoutUrl);\n      this.pkce = options.pkce === false ? false : true;\n      this.clientId = options.clientId;\n      this.redirectUri = options.redirectUri;\n      if (isBrowser()) {\n        this.redirectUri = toAbsoluteUrl(options.redirectUri, window.location.origin);\n      }\n      this.responseType = options.responseType;\n      this.responseMode = options.responseMode;\n      this.state = options.state;\n      this.scopes = options.scopes;\n      this.ignoreSignature = !!options.ignoreSignature;\n      this.codeChallenge = options.codeChallenge;\n      this.codeChallengeMethod = options.codeChallengeMethod;\n      this.acrValues = options.acrValues;\n      this.maxAge = options.maxAge;\n      this.dpop = options.dpop === true;\n      this.tokenManager = options.tokenManager;\n      this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n      this.restoreOriginalUri = options.restoreOriginalUri;\n      this.transactionManager = Object.assign({\n        enableSharedStorage\n      }, options.transactionManager);\n      this.clientSecret = options.clientSecret;\n      this.setLocation = options.setLocation;\n      this.ignoreLifetime = !!options.ignoreLifetime;\n      if (!options.maxClockSkew && options.maxClockSkew !== 0) {\n        this.maxClockSkew = DEFAULT_MAX_CLOCK_SKEW;\n      } else {\n        this.maxClockSkew = options.maxClockSkew;\n      }\n    }\n  };\n}\nexport { createOAuthOptionsConstructor };","map":{"version":3,"names":["DEFAULT_MAX_CLOCK_SKEW","removeTrailingSlash","toAbsoluteUrl","isBrowser","createHttpOptionsConstructor","enableSharedStorage","AuthSdkError","assertValidConfig","args","scopes","Array","isArray","issuer","isUrlRegex","RegExp","test","indexOf","createOAuthOptionsConstructor","HttpOptionsConstructor","OAuthOptionsConstructor","constructor","options","tokenUrl","authorizeUrl","userinfoUrl","revokeUrl","logoutUrl","pkce","clientId","redirectUri","window","location","origin","responseType","responseMode","state","ignoreSignature","codeChallenge","codeChallengeMethod","acrValues","maxAge","dpop","tokenManager","postLogoutRedirectUri","restoreOriginalUri","transactionManager","Object","assign","clientSecret","setLocation","ignoreLifetime","maxClockSkew"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-auth-js/esm/browser/oidc/options/OAuthOptionsConstructor.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { DEFAULT_MAX_CLOCK_SKEW } from '../../constants.js';\nimport { removeTrailingSlash, toAbsoluteUrl } from '../../util/url.js';\nimport { isBrowser } from '../../features.js';\nimport { createHttpOptionsConstructor } from '../../http/options.js';\nimport { enableSharedStorage } from './browser.js';\nimport AuthSdkError from '../../errors/AuthSdkError.js';\n\nfunction assertValidConfig(args) {\n    args = args || {};\n    var scopes = args.scopes;\n    if (scopes && !Array.isArray(scopes)) {\n        throw new AuthSdkError('scopes must be a array of strings. ' +\n            'Required usage: new OktaAuth({scopes: [\"openid\", \"email\"]})');\n    }\n    var issuer = args.issuer;\n    if (!issuer) {\n        throw new AuthSdkError('No issuer passed to constructor. ' +\n            'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n    }\n    var isUrlRegex = new RegExp('^http?s?://.+');\n    if (!isUrlRegex.test(issuer)) {\n        throw new AuthSdkError('Issuer must be a valid URL. ' +\n            'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com/oauth2/{authServerId}\"})');\n    }\n    if (issuer.indexOf('-admin.okta') !== -1) {\n        throw new AuthSdkError('Issuer URL passed to constructor contains \"-admin\" in subdomain. ' +\n            'Required usage: new OktaAuth({issuer: \"https://{yourOktaDomain}.com})');\n    }\n}\nfunction createOAuthOptionsConstructor() {\n    const HttpOptionsConstructor = createHttpOptionsConstructor();\n    return class OAuthOptionsConstructor extends HttpOptionsConstructor {\n        constructor(options) {\n            super(options);\n            assertValidConfig(options);\n            this.issuer = removeTrailingSlash(options.issuer);\n            this.tokenUrl = removeTrailingSlash(options.tokenUrl);\n            this.authorizeUrl = removeTrailingSlash(options.authorizeUrl);\n            this.userinfoUrl = removeTrailingSlash(options.userinfoUrl);\n            this.revokeUrl = removeTrailingSlash(options.revokeUrl);\n            this.logoutUrl = removeTrailingSlash(options.logoutUrl);\n            this.pkce = options.pkce === false ? false : true;\n            this.clientId = options.clientId;\n            this.redirectUri = options.redirectUri;\n            if (isBrowser()) {\n                this.redirectUri = toAbsoluteUrl(options.redirectUri, window.location.origin);\n            }\n            this.responseType = options.responseType;\n            this.responseMode = options.responseMode;\n            this.state = options.state;\n            this.scopes = options.scopes;\n            this.ignoreSignature = !!options.ignoreSignature;\n            this.codeChallenge = options.codeChallenge;\n            this.codeChallengeMethod = options.codeChallengeMethod;\n            this.acrValues = options.acrValues;\n            this.maxAge = options.maxAge;\n            this.dpop = options.dpop === true;\n            this.tokenManager = options.tokenManager;\n            this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n            this.restoreOriginalUri = options.restoreOriginalUri;\n            this.transactionManager = Object.assign({ enableSharedStorage }, options.transactionManager);\n            this.clientSecret = options.clientSecret;\n            this.setLocation = options.setLocation;\n            this.ignoreLifetime = !!options.ignoreLifetime;\n            if (!options.maxClockSkew && options.maxClockSkew !== 0) {\n                this.maxClockSkew = DEFAULT_MAX_CLOCK_SKEW;\n            }\n            else {\n                this.maxClockSkew = options.maxClockSkew;\n            }\n        }\n    };\n}\n\nexport { createOAuthOptionsConstructor };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}