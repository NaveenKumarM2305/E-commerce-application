{"ast":null,"code":"import { loc, createCallout, createButton } from '../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport '../internals/BaseHeader.js';\nimport '../internals/BaseFooter.js';\nimport BaseForm from '../internals/BaseForm.js';\nimport '../internals/BaseFormWithPolling.js';\nimport '../internals/BaseOktaVerifyChallengeView.js';\nimport BaseView from '../internals/BaseView.js';\nimport '../components/AuthenticatorEnrollOptions.js';\nimport '../components/AuthenticatorVerifyOptions.js';\nimport '../../../../packages/@okta/courage-dist/esm/lib/underscore/underscore-min.js';\nimport 'cross-fetch';\nimport '../../../util/BrowserFeatures.js';\nimport '../../../util/FactorUtil.js';\nimport { INTERSTITIAL_REDIRECT_VIEW } from '../../ion/RemediationConstants.js';\nimport '../../../v1/views/admin-consent/ScopeList.js';\nimport '../../../v1/views/consent/ScopeList.js';\nimport './captcha/CaptchaView.js';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage.js';\nimport Util from '../../../util/Util.js';\nimport { getHeader } from '../utils/AutoRedirectUtil.js';\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\nconst Body = BaseForm.extend({\n  /* eslint complexity: [2, 16] */title: function () {\n    let titleString = loc('oie.success.text.signingIn', 'login');\n    // For more info on the API response available in appState, see IdxResponseBuilder.java\n    const app = this.options.appState.get('app');\n    const user = this.options.appState.get('user');\n\n    // OKTA-635926: add user gesture for ov enrollment on android\n    if (Util.isAndroidOVEnrollment()) {\n      titleString = loc('oie.success.text.signingIn.with.appName.android.ov.enrollment', 'login');\n      return titleString;\n    }\n\n    // If the option is not set, we treat that as being the case where we don't render the spinner.\n    // This is to account for the customer hosted scenario, because by default okta-core will pass in\n    // the correct value as set by the option in the Admin UI (which by default is \"DEFAULT\").\n    if (!this.redirectView || this.redirectView === INTERSTITIAL_REDIRECT_VIEW.NONE) {\n      titleString = loc('oie.success.text.signingIn.with.ellipsis', 'login');\n      return titleString;\n    }\n    if (oktaUnderscore.isEmpty(app)) {\n      return titleString;\n    }\n    const {\n      label: appInstanceName,\n      name: appDisplayName\n    } = app;\n    const {\n      identifier: userEmail\n    } = user || {};\n    const appName = appInstanceName ? appInstanceName : appDisplayName;\n    if (appName && userEmail && !this.settings.get('features.showIdentifier')) {\n      titleString = loc('oie.success.text.signingIn.with.appName.and.identifier', 'login', [appName, userEmail]);\n    } else if (appName) {\n      titleString = loc('oie.success.text.signingIn.with.appName', 'login', [appName]);\n    }\n    return titleString;\n  },\n  showMessages: function () {\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.selfservice.unlock_user.landing.to.app.signing.in.message', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      const {\n        message: message,\n        links: links\n      } = this.options.appState.get('messages').value.find(msg => msg.i18n.key === CUSTOM_ACCESS_DENIED_KEY);\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage({\n          message: message,\n          links: links\n        })\n      }));\n      return;\n    }\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess: function () {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  },\n  noButtonBar: true,\n  initialize: function () {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.redirectView = this.settings.get('interstitialBeforeLoginRedirect');\n    this.model.set('useRedirect', true);\n    this.trigger('save', this.model);\n  },\n  render: function () {\n    BaseForm.prototype.render.apply(this, arguments);\n    if (Util.isAndroidOVEnrollment()) {\n      const currentViewState = this.options.appState.getCurrentViewState();\n      this.add(createButton({\n        className: 'ul-button button button-wide button-primary hide-underline',\n        title: loc('oktaVerify.open.button', 'login'),\n        id: 'launch-enrollment-ov',\n        click: () => {\n          Util.redirectWithFormGet(currentViewState.href);\n        }\n      }));\n    } else if (this.redirectView === INTERSTITIAL_REDIRECT_VIEW.DEFAULT) {\n      this.add('<div class=\"okta-waiting-spinner\"></div>');\n    }\n  }\n});\nvar AutoRedirectView = BaseView.extend({\n  Header: getHeader(),\n  Body: Body\n});\nexport { AutoRedirectView as default };","map":{"version":3,"names":["loc","createCallout","createButton","oktaUnderscore","BaseForm","BaseView","INTERSTITIAL_REDIRECT_VIEW","CustomAccessDeniedErrorMessage","Util","getHeader","CUSTOM_ACCESS_DENIED_KEY","UNLOCK_USER_SUCCESS_MESSAGE","Body","extend","title","titleString","app","options","appState","get","user","isAndroidOVEnrollment","redirectView","NONE","isEmpty","label","appInstanceName","name","appDisplayName","identifier","userEmail","appName","settings","showMessages","isUnlockSuccess","container","text","add","containsMessageStartingWithI18nKey","message","links","value","find","msg","i18n","key","type","content","prototype","call","containsMessageWithI18nKey","noButtonBar","initialize","apply","arguments","model","set","trigger","render","currentViewState","getCurrentViewState","className","id","click","redirectWithFormGet","href","DEFAULT","AutoRedirectView","Header","default"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v2/view-builder/views/AutoRedirectView.js"],"sourcesContent":["import { loc, createCallout, createButton } from '../../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport '../internals/BaseHeader.js';\nimport '../internals/BaseFooter.js';\nimport BaseForm from '../internals/BaseForm.js';\nimport '../internals/BaseFormWithPolling.js';\nimport '../internals/BaseOktaVerifyChallengeView.js';\nimport BaseView from '../internals/BaseView.js';\nimport '../components/AuthenticatorEnrollOptions.js';\nimport '../components/AuthenticatorVerifyOptions.js';\nimport '../../../../packages/@okta/courage-dist/esm/lib/underscore/underscore-min.js';\nimport 'cross-fetch';\nimport '../../../util/BrowserFeatures.js';\nimport '../../../util/FactorUtil.js';\nimport { INTERSTITIAL_REDIRECT_VIEW } from '../../ion/RemediationConstants.js';\nimport '../../../v1/views/admin-consent/ScopeList.js';\nimport '../../../v1/views/consent/ScopeList.js';\nimport './captcha/CaptchaView.js';\nimport CustomAccessDeniedErrorMessage from './shared/CustomAccessDeniedErrorMessage.js';\nimport Util from '../../../util/Util.js';\nimport { getHeader } from '../utils/AutoRedirectUtil.js';\n\nconst CUSTOM_ACCESS_DENIED_KEY = 'security.access_denied_custom_message';\nconst UNLOCK_USER_SUCCESS_MESSAGE = 'oie.selfservice.unlock_user.landing.to.app.success.message';\nconst Body = BaseForm.extend({\n  /* eslint complexity: [2, 16] */title: function () {\n    let titleString = loc('oie.success.text.signingIn', 'login');\n    // For more info on the API response available in appState, see IdxResponseBuilder.java\n    const app = this.options.appState.get('app');\n    const user = this.options.appState.get('user');\n\n    // OKTA-635926: add user gesture for ov enrollment on android\n    if (Util.isAndroidOVEnrollment()) {\n      titleString = loc('oie.success.text.signingIn.with.appName.android.ov.enrollment', 'login');\n      return titleString;\n    }\n\n    // If the option is not set, we treat that as being the case where we don't render the spinner.\n    // This is to account for the customer hosted scenario, because by default okta-core will pass in\n    // the correct value as set by the option in the Admin UI (which by default is \"DEFAULT\").\n    if (!this.redirectView || this.redirectView === INTERSTITIAL_REDIRECT_VIEW.NONE) {\n      titleString = loc('oie.success.text.signingIn.with.ellipsis', 'login');\n      return titleString;\n    }\n    if (oktaUnderscore.isEmpty(app)) {\n      return titleString;\n    }\n    const {\n      label: appInstanceName,\n      name: appDisplayName\n    } = app;\n    const {\n      identifier: userEmail\n    } = user || {};\n    const appName = appInstanceName ? appInstanceName : appDisplayName;\n    if (appName && userEmail && !this.settings.get('features.showIdentifier')) {\n      titleString = loc('oie.success.text.signingIn.with.appName.and.identifier', 'login', [appName, userEmail]);\n    } else if (appName) {\n      titleString = loc('oie.success.text.signingIn.with.appName', 'login', [appName]);\n    }\n    return titleString;\n  },\n  showMessages: function () {\n    if (this.isUnlockSuccess()) {\n      const container = '.o-form-error-container';\n      const text = loc('oie.selfservice.unlock_user.landing.to.app.signing.in.message', 'login');\n      this.add(`<div class=\"ion-messages-container\"><p>${text}</p></div>`, container);\n      return;\n    } else if (this.options.appState.containsMessageStartingWithI18nKey(CUSTOM_ACCESS_DENIED_KEY)) {\n      const {\n        message: message,\n        links: links\n      } = this.options.appState.get('messages').value.find(msg => msg.i18n.key === CUSTOM_ACCESS_DENIED_KEY);\n      this.add(createCallout({\n        type: 'error',\n        content: new CustomAccessDeniedErrorMessage({\n          message: message,\n          links: links\n        })\n      }));\n      return;\n    }\n    BaseForm.prototype.showMessages.call(this);\n  },\n  isUnlockSuccess: function () {\n    return this.options.appState.containsMessageWithI18nKey(UNLOCK_USER_SUCCESS_MESSAGE);\n  },\n  noButtonBar: true,\n  initialize: function () {\n    BaseForm.prototype.initialize.apply(this, arguments);\n    this.redirectView = this.settings.get('interstitialBeforeLoginRedirect');\n    this.model.set('useRedirect', true);\n    this.trigger('save', this.model);\n  },\n  render: function () {\n    BaseForm.prototype.render.apply(this, arguments);\n    if (Util.isAndroidOVEnrollment()) {\n      const currentViewState = this.options.appState.getCurrentViewState();\n      this.add(createButton({\n        className: 'ul-button button button-wide button-primary hide-underline',\n        title: loc('oktaVerify.open.button', 'login'),\n        id: 'launch-enrollment-ov',\n        click: () => {\n          Util.redirectWithFormGet(currentViewState.href);\n        }\n      }));\n    } else if (this.redirectView === INTERSTITIAL_REDIRECT_VIEW.DEFAULT) {\n      this.add('<div class=\"okta-waiting-spinner\"></div>');\n    }\n  }\n});\nvar AutoRedirectView = BaseView.extend({\n  Header: getHeader(),\n  Body: Body\n});\n\nexport { AutoRedirectView as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}