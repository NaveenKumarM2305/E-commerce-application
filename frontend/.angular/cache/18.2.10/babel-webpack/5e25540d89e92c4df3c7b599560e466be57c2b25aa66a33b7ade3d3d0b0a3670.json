{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction hasTokensInHash(hash) {\n  return /((id|access)_token=)/i.test(hash);\n}\nfunction hasAuthorizationCode(hashOrSearch) {\n  return /(code=)/i.test(hashOrSearch);\n}\nfunction hasInteractionCode(hashOrSearch) {\n  return /(interaction_code=)/i.test(hashOrSearch);\n}\nfunction hasErrorInUrl(hashOrSearch) {\n  return /(error=)/i.test(hashOrSearch) || /(error_description)/i.test(hashOrSearch);\n}\nfunction isRedirectUri(uri, sdk) {\n  var authParams = sdk.options;\n  if (!uri || !authParams.redirectUri) {\n    return false;\n  }\n  return uri.indexOf(authParams.redirectUri) === 0;\n}\nfunction isCodeFlow(options) {\n  return options.pkce || options.responseType === 'code' || options.responseMode === 'query';\n}\nfunction hasResponseType(responseType, options) {\n  let hasResponseType = false;\n  if (Array.isArray(options.responseType) && options.responseType.length) {\n    hasResponseType = options.responseType.indexOf(responseType) >= 0;\n  } else {\n    hasResponseType = options.responseType === responseType;\n  }\n  return hasResponseType;\n}\nfunction getHashOrSearch(options) {\n  var codeFlow = isCodeFlow(options);\n  var useQuery = codeFlow && options.responseMode !== 'fragment';\n  return useQuery ? window.location.search : window.location.hash;\n}\nfunction isLoginRedirect(sdk) {\n  if (!isRedirectUri(window.location.href, sdk)) {\n    return false;\n  }\n  var codeFlow = isCodeFlow(sdk.options);\n  var hashOrSearch = getHashOrSearch(sdk.options);\n  if (hasErrorInUrl(hashOrSearch)) {\n    return true;\n  }\n  if (codeFlow) {\n    var hasCode = hasAuthorizationCode(hashOrSearch) || hasInteractionCode(hashOrSearch);\n    return hasCode;\n  }\n  return hasTokensInHash(window.location.hash);\n}\nfunction isInteractionRequired(sdk, hashOrSearch) {\n  if (!hashOrSearch) {\n    if (!isLoginRedirect(sdk)) {\n      return false;\n    }\n    hashOrSearch = getHashOrSearch(sdk.options);\n  }\n  return /(error=interaction_required)/i.test(hashOrSearch);\n}\nexport { getHashOrSearch, hasAuthorizationCode, hasErrorInUrl, hasInteractionCode, hasResponseType, hasTokensInHash, isCodeFlow, isInteractionRequired, isLoginRedirect, isRedirectUri };","map":{"version":3,"names":["hasTokensInHash","hash","test","hasAuthorizationCode","hashOrSearch","hasInteractionCode","hasErrorInUrl","isRedirectUri","uri","sdk","authParams","options","redirectUri","indexOf","isCodeFlow","pkce","responseType","responseMode","hasResponseType","Array","isArray","length","getHashOrSearch","codeFlow","useQuery","window","location","search","isLoginRedirect","href","hasCode","isInteractionRequired"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-auth-js/esm/browser/oidc/util/loginRedirect.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nfunction hasTokensInHash(hash) {\n    return /((id|access)_token=)/i.test(hash);\n}\nfunction hasAuthorizationCode(hashOrSearch) {\n    return /(code=)/i.test(hashOrSearch);\n}\nfunction hasInteractionCode(hashOrSearch) {\n    return /(interaction_code=)/i.test(hashOrSearch);\n}\nfunction hasErrorInUrl(hashOrSearch) {\n    return /(error=)/i.test(hashOrSearch) || /(error_description)/i.test(hashOrSearch);\n}\nfunction isRedirectUri(uri, sdk) {\n    var authParams = sdk.options;\n    if (!uri || !authParams.redirectUri) {\n        return false;\n    }\n    return uri.indexOf(authParams.redirectUri) === 0;\n}\nfunction isCodeFlow(options) {\n    return options.pkce || options.responseType === 'code' || options.responseMode === 'query';\n}\nfunction hasResponseType(responseType, options) {\n    let hasResponseType = false;\n    if (Array.isArray(options.responseType) && options.responseType.length) {\n        hasResponseType = options.responseType.indexOf(responseType) >= 0;\n    }\n    else {\n        hasResponseType = options.responseType === responseType;\n    }\n    return hasResponseType;\n}\nfunction getHashOrSearch(options) {\n    var codeFlow = isCodeFlow(options);\n    var useQuery = codeFlow && options.responseMode !== 'fragment';\n    return useQuery ? window.location.search : window.location.hash;\n}\nfunction isLoginRedirect(sdk) {\n    if (!isRedirectUri(window.location.href, sdk)) {\n        return false;\n    }\n    var codeFlow = isCodeFlow(sdk.options);\n    var hashOrSearch = getHashOrSearch(sdk.options);\n    if (hasErrorInUrl(hashOrSearch)) {\n        return true;\n    }\n    if (codeFlow) {\n        var hasCode = hasAuthorizationCode(hashOrSearch) || hasInteractionCode(hashOrSearch);\n        return hasCode;\n    }\n    return hasTokensInHash(window.location.hash);\n}\nfunction isInteractionRequired(sdk, hashOrSearch) {\n    if (!hashOrSearch) {\n        if (!isLoginRedirect(sdk)) {\n            return false;\n        }\n        hashOrSearch = getHashOrSearch(sdk.options);\n    }\n    return /(error=interaction_required)/i.test(hashOrSearch);\n}\n\nexport { getHashOrSearch, hasAuthorizationCode, hasErrorInUrl, hasInteractionCode, hasResponseType, hasTokensInHash, isCodeFlow, isInteractionRequired, isLoginRedirect, isRedirectUri };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}