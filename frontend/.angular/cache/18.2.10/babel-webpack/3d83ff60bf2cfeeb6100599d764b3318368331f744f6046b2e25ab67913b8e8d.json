{"ast":null,"code":"import _asyncToGenerator from \"C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { __rest } from '../_virtual/_tslib.js';\nimport { warn } from '../util/console.js';\nimport { split2 } from '../util/misc.js';\nimport { GenericRemediator } from './remediators/GenericRemediator/GenericRemediator.js';\nimport { IdxFeature } from './types/api.js';\nconst ctx = {\n  remediators: {},\n  getFlowSpecification: function (_oktaAuth, _flow = 'default') {\n    return {\n      remediators: {}\n    };\n  }\n};\nfunction setRemediatorsCtx(newCtx) {\n  Object.assign(ctx, newCtx);\n}\nfunction getFlowSpecification(oktaAuth, flow = 'default') {\n  return ctx.getFlowSpecification(oktaAuth, flow);\n}\nfunction isTerminalResponse(idxResponse) {\n  const {\n    neededToProceed,\n    interactionCode\n  } = idxResponse;\n  return !neededToProceed.length && !interactionCode;\n}\nfunction canSkipFn(idxResponse) {\n  return idxResponse.neededToProceed.some(({\n    name\n  }) => name === 'skip');\n}\nfunction canResendFn(idxResponse) {\n  return Object.keys(idxResponse.actions).some(actionName => actionName.includes('resend'));\n}\nfunction getMessagesFromIdxRemediationValue(value) {\n  if (!value || !Array.isArray(value)) {\n    return;\n  }\n  return value.reduce((messages, value) => {\n    if (value.messages) {\n      messages = [...messages, ...value.messages.value];\n    }\n    if (value.form) {\n      const messagesFromForm = getMessagesFromIdxRemediationValue(value.form.value) || [];\n      messages = [...messages, ...messagesFromForm];\n    }\n    if (value.options) {\n      let optionValues = [];\n      value.options.forEach(option => {\n        if (!option.value || typeof option.value === 'string') {\n          return;\n        }\n        optionValues = [...optionValues, option.value];\n      });\n      const messagesFromOptions = getMessagesFromIdxRemediationValue(optionValues) || [];\n      messages = [...messages, ...messagesFromOptions];\n    }\n    return messages;\n  }, []);\n}\nfunction getMessagesFromResponse(idxResponse, options) {\n  var _a;\n  let messages = [];\n  const {\n    rawIdxState,\n    neededToProceed\n  } = idxResponse;\n  const globalMessages = (_a = rawIdxState.messages) === null || _a === void 0 ? void 0 : _a.value.map(message => message);\n  if (globalMessages) {\n    messages = [...messages, ...globalMessages];\n  }\n  if (!options.useGenericRemediator) {\n    for (let remediation of neededToProceed) {\n      const fieldMessages = getMessagesFromIdxRemediationValue(remediation.value);\n      if (fieldMessages) {\n        messages = [...messages, ...fieldMessages];\n      }\n    }\n  }\n  const seen = {};\n  messages = messages.reduce((filtered, message) => {\n    var _a;\n    const key = (_a = message.i18n) === null || _a === void 0 ? void 0 : _a.key;\n    if (key && seen[key] && message.message === seen[key].message) {\n      return filtered;\n    }\n    seen[key] = message;\n    filtered = [...filtered, message];\n    return filtered;\n  }, []);\n  return messages;\n}\nfunction getEnabledFeatures(idxResponse) {\n  const res = [];\n  const {\n    actions,\n    neededToProceed\n  } = idxResponse;\n  if (actions['currentAuthenticator-recover']) {\n    res.push(IdxFeature.PASSWORD_RECOVERY);\n  }\n  if (neededToProceed.some(({\n    name\n  }) => name === 'select-enroll-profile')) {\n    res.push(IdxFeature.REGISTRATION);\n  }\n  if (neededToProceed.some(({\n    name\n  }) => name === 'redirect-idp')) {\n    res.push(IdxFeature.SOCIAL_IDP);\n  }\n  if (neededToProceed.some(({\n    name\n  }) => name === 'unlock-account')) {\n    res.push(IdxFeature.ACCOUNT_UNLOCK);\n  }\n  return res;\n}\nfunction getAvailableSteps(authClient, idxResponse, useGenericRemediator) {\n  var _a;\n  const res = [];\n  const remediatorMap = Object.values(ctx.remediators).reduce((map, remediatorClass) => {\n    if (remediatorClass.remediationName) {\n      map[remediatorClass.remediationName] = remediatorClass;\n    }\n    return map;\n  }, {});\n  for (let remediation of idxResponse.neededToProceed) {\n    const T = getRemediatorClass(remediation, {\n      useGenericRemediator,\n      remediators: remediatorMap\n    });\n    if (T) {\n      const remediator = new T(remediation);\n      res.push(remediator.getNextStep(authClient, idxResponse.context));\n    }\n  }\n  for (const [name] of Object.entries(idxResponse.actions || {})) {\n    let stepObj = {\n      name,\n      action: function () {\n        var _ref = _asyncToGenerator(function* (params) {\n          return authClient.idx.proceed({\n            actions: [{\n              name,\n              params\n            }]\n          });\n        });\n        return function action(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()\n    };\n    if (name.startsWith('currentAuthenticator')) {\n      const [part1, part2] = split2(name, '-');\n      const actionObj = idxResponse.rawIdxState[part1].value[part2];\n      const rest = __rest(actionObj, [\"href\", \"method\", \"rel\", \"accepts\", \"produces\"]);\n      const value = (_a = actionObj.value) === null || _a === void 0 ? void 0 : _a.filter(item => item.name !== 'stateHandle');\n      stepObj = Object.assign(Object.assign(Object.assign({}, rest), value && {\n        value\n      }), stepObj);\n    }\n    res.push(stepObj);\n  }\n  return res;\n}\nfunction filterValuesForRemediation(idxResponse, remediationName, values) {\n  const remediations = idxResponse.neededToProceed || [];\n  const remediation = remediations.find(r => r.name === remediationName);\n  if (!remediation) {\n    warn(`filterValuesForRemediation: \"${remediationName}\" did not match any remediations`);\n    return values;\n  }\n  const valuesForRemediation = remediation.value.reduce((res, entry) => {\n    const {\n      name,\n      value\n    } = entry;\n    if (name === 'stateHandle') {\n      res[name] = value;\n    } else {\n      res[name] = values[name];\n    }\n    return res;\n  }, {});\n  return valuesForRemediation;\n}\nfunction getRemediatorClass(remediation, options) {\n  const {\n    useGenericRemediator,\n    remediators\n  } = options;\n  if (!remediation) {\n    return undefined;\n  }\n  if (useGenericRemediator) {\n    return GenericRemediator;\n  }\n  return remediators[remediation.name];\n}\nfunction getRemediator(idxResponse, values, options) {\n  const remediators = options.remediators;\n  const useGenericRemediator = options.useGenericRemediator;\n  const {\n    neededToProceed: idxRemediations,\n    context\n  } = idxResponse;\n  let remediator;\n  if (options.step) {\n    const remediation = idxRemediations.find(({\n      name\n    }) => name === options.step);\n    if (remediation) {\n      const T = getRemediatorClass(remediation, options);\n      return T ? new T(remediation, values, options) : undefined;\n    } else {\n      warn(`step \"${options.step}\" did not match any remediations`);\n      return;\n    }\n  }\n  const remediatorCandidates = [];\n  if (useGenericRemediator) {\n    remediatorCandidates.push(new GenericRemediator(idxRemediations[0], values, options));\n  } else {\n    for (let remediation of idxRemediations) {\n      const isRemeditionInFlow = Object.keys(remediators).includes(remediation.name);\n      if (!isRemeditionInFlow) {\n        continue;\n      }\n      const T = getRemediatorClass(remediation, options);\n      remediator = new T(remediation, values, options);\n      if (remediator.canRemediate(context)) {\n        return remediator;\n      }\n      remediatorCandidates.push(remediator);\n    }\n  }\n  return remediatorCandidates[0];\n}\nfunction getNextStep(authClient, remediator, idxResponse) {\n  const nextStep = remediator.getNextStep(authClient, idxResponse.context);\n  const canSkip = canSkipFn(idxResponse);\n  const canResend = canResendFn(idxResponse);\n  return Object.assign(Object.assign(Object.assign({}, nextStep), canSkip && {\n    canSkip\n  }), canResend && {\n    canResend\n  });\n}\nfunction handleFailedResponse(authClient, idxResponse, options = {}) {\n  const terminal = isTerminalResponse(idxResponse);\n  const messages = getMessagesFromResponse(idxResponse, options);\n  if (terminal) {\n    return {\n      idxResponse,\n      terminal,\n      messages\n    };\n  } else {\n    const remediator = getRemediator(idxResponse, {}, options);\n    const nextStep = remediator && getNextStep(authClient, remediator, idxResponse);\n    return Object.assign({\n      idxResponse,\n      messages\n    }, nextStep && {\n      nextStep\n    });\n  }\n}\nexport { canResendFn, canSkipFn, filterValuesForRemediation, getAvailableSteps, getEnabledFeatures, getFlowSpecification, getMessagesFromIdxRemediationValue, getMessagesFromResponse, getNextStep, getRemediator, handleFailedResponse, isTerminalResponse, setRemediatorsCtx };","map":{"version":3,"names":["__rest","warn","split2","GenericRemediator","IdxFeature","ctx","remediators","getFlowSpecification","_oktaAuth","_flow","setRemediatorsCtx","newCtx","Object","assign","oktaAuth","flow","isTerminalResponse","idxResponse","neededToProceed","interactionCode","length","canSkipFn","some","name","canResendFn","keys","actions","actionName","includes","getMessagesFromIdxRemediationValue","value","Array","isArray","reduce","messages","form","messagesFromForm","options","optionValues","forEach","option","messagesFromOptions","getMessagesFromResponse","_a","rawIdxState","globalMessages","map","message","useGenericRemediator","remediation","fieldMessages","seen","filtered","key","i18n","getEnabledFeatures","res","push","PASSWORD_RECOVERY","REGISTRATION","SOCIAL_IDP","ACCOUNT_UNLOCK","getAvailableSteps","authClient","remediatorMap","values","remediatorClass","remediationName","T","getRemediatorClass","remediator","getNextStep","context","entries","stepObj","action","_ref","_asyncToGenerator","params","idx","proceed","_x","apply","arguments","startsWith","part1","part2","actionObj","rest","filter","item","filterValuesForRemediation","remediations","find","r","valuesForRemediation","entry","undefined","getRemediator","idxRemediations","step","remediatorCandidates","isRemeditionInFlow","canRemediate","nextStep","canSkip","canResend","handleFailedResponse","terminal"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-auth-js/esm/browser/idx/util.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport { __rest } from '../_virtual/_tslib.js';\nimport { warn } from '../util/console.js';\nimport { split2 } from '../util/misc.js';\nimport { GenericRemediator } from './remediators/GenericRemediator/GenericRemediator.js';\nimport { IdxFeature } from './types/api.js';\n\nconst ctx = {\n    remediators: {},\n    getFlowSpecification: function (_oktaAuth, _flow = 'default') {\n        return {\n            remediators: {}\n        };\n    }\n};\nfunction setRemediatorsCtx(newCtx) {\n    Object.assign(ctx, newCtx);\n}\nfunction getFlowSpecification(oktaAuth, flow = 'default') {\n    return ctx.getFlowSpecification(oktaAuth, flow);\n}\nfunction isTerminalResponse(idxResponse) {\n    const { neededToProceed, interactionCode } = idxResponse;\n    return !neededToProceed.length && !interactionCode;\n}\nfunction canSkipFn(idxResponse) {\n    return idxResponse.neededToProceed.some(({ name }) => name === 'skip');\n}\nfunction canResendFn(idxResponse) {\n    return Object.keys(idxResponse.actions).some(actionName => actionName.includes('resend'));\n}\nfunction getMessagesFromIdxRemediationValue(value) {\n    if (!value || !Array.isArray(value)) {\n        return;\n    }\n    return value.reduce((messages, value) => {\n        if (value.messages) {\n            messages = [...messages, ...value.messages.value];\n        }\n        if (value.form) {\n            const messagesFromForm = getMessagesFromIdxRemediationValue(value.form.value) || [];\n            messages = [...messages, ...messagesFromForm];\n        }\n        if (value.options) {\n            let optionValues = [];\n            value.options.forEach(option => {\n                if (!option.value || typeof option.value === 'string') {\n                    return;\n                }\n                optionValues = [...optionValues, option.value];\n            });\n            const messagesFromOptions = getMessagesFromIdxRemediationValue(optionValues) || [];\n            messages = [...messages, ...messagesFromOptions];\n        }\n        return messages;\n    }, []);\n}\nfunction getMessagesFromResponse(idxResponse, options) {\n    var _a;\n    let messages = [];\n    const { rawIdxState, neededToProceed } = idxResponse;\n    const globalMessages = (_a = rawIdxState.messages) === null || _a === void 0 ? void 0 : _a.value.map(message => message);\n    if (globalMessages) {\n        messages = [...messages, ...globalMessages];\n    }\n    if (!options.useGenericRemediator) {\n        for (let remediation of neededToProceed) {\n            const fieldMessages = getMessagesFromIdxRemediationValue(remediation.value);\n            if (fieldMessages) {\n                messages = [...messages, ...fieldMessages];\n            }\n        }\n    }\n    const seen = {};\n    messages = messages.reduce((filtered, message) => {\n        var _a;\n        const key = (_a = message.i18n) === null || _a === void 0 ? void 0 : _a.key;\n        if (key && seen[key] && message.message === seen[key].message) {\n            return filtered;\n        }\n        seen[key] = message;\n        filtered = [...filtered, message];\n        return filtered;\n    }, []);\n    return messages;\n}\nfunction getEnabledFeatures(idxResponse) {\n    const res = [];\n    const { actions, neededToProceed } = idxResponse;\n    if (actions['currentAuthenticator-recover']) {\n        res.push(IdxFeature.PASSWORD_RECOVERY);\n    }\n    if (neededToProceed.some(({ name }) => name === 'select-enroll-profile')) {\n        res.push(IdxFeature.REGISTRATION);\n    }\n    if (neededToProceed.some(({ name }) => name === 'redirect-idp')) {\n        res.push(IdxFeature.SOCIAL_IDP);\n    }\n    if (neededToProceed.some(({ name }) => name === 'unlock-account')) {\n        res.push(IdxFeature.ACCOUNT_UNLOCK);\n    }\n    return res;\n}\nfunction getAvailableSteps(authClient, idxResponse, useGenericRemediator) {\n    var _a;\n    const res = [];\n    const remediatorMap = Object.values(ctx.remediators)\n        .reduce((map, remediatorClass) => {\n        if (remediatorClass.remediationName) {\n            map[remediatorClass.remediationName] = remediatorClass;\n        }\n        return map;\n    }, {});\n    for (let remediation of idxResponse.neededToProceed) {\n        const T = getRemediatorClass(remediation, { useGenericRemediator, remediators: remediatorMap });\n        if (T) {\n            const remediator = new T(remediation);\n            res.push(remediator.getNextStep(authClient, idxResponse.context));\n        }\n    }\n    for (const [name] of Object.entries((idxResponse.actions || {}))) {\n        let stepObj = {\n            name,\n            action: async (params) => {\n                return authClient.idx.proceed({\n                    actions: [{ name, params }]\n                });\n            }\n        };\n        if (name.startsWith('currentAuthenticator')) {\n            const [part1, part2] = split2(name, '-');\n            const actionObj = idxResponse.rawIdxState[part1].value[part2];\n            const rest = __rest(actionObj, [\"href\", \"method\", \"rel\", \"accepts\", \"produces\"]);\n            const value = (_a = actionObj.value) === null || _a === void 0 ? void 0 : _a.filter(item => item.name !== 'stateHandle');\n            stepObj = Object.assign(Object.assign(Object.assign({}, rest), (value && { value })), stepObj);\n        }\n        res.push(stepObj);\n    }\n    return res;\n}\nfunction filterValuesForRemediation(idxResponse, remediationName, values) {\n    const remediations = idxResponse.neededToProceed || [];\n    const remediation = remediations.find(r => r.name === remediationName);\n    if (!remediation) {\n        warn(`filterValuesForRemediation: \"${remediationName}\" did not match any remediations`);\n        return values;\n    }\n    const valuesForRemediation = remediation.value.reduce((res, entry) => {\n        const { name, value } = entry;\n        if (name === 'stateHandle') {\n            res[name] = value;\n        }\n        else {\n            res[name] = values[name];\n        }\n        return res;\n    }, {});\n    return valuesForRemediation;\n}\nfunction getRemediatorClass(remediation, options) {\n    const { useGenericRemediator, remediators } = options;\n    if (!remediation) {\n        return undefined;\n    }\n    if (useGenericRemediator) {\n        return GenericRemediator;\n    }\n    return remediators[remediation.name];\n}\nfunction getRemediator(idxResponse, values, options) {\n    const remediators = options.remediators;\n    const useGenericRemediator = options.useGenericRemediator;\n    const { neededToProceed: idxRemediations, context } = idxResponse;\n    let remediator;\n    if (options.step) {\n        const remediation = idxRemediations.find(({ name }) => name === options.step);\n        if (remediation) {\n            const T = getRemediatorClass(remediation, options);\n            return T ? new T(remediation, values, options) : undefined;\n        }\n        else {\n            warn(`step \"${options.step}\" did not match any remediations`);\n            return;\n        }\n    }\n    const remediatorCandidates = [];\n    if (useGenericRemediator) {\n        remediatorCandidates.push(new GenericRemediator(idxRemediations[0], values, options));\n    }\n    else {\n        for (let remediation of idxRemediations) {\n            const isRemeditionInFlow = Object.keys(remediators).includes(remediation.name);\n            if (!isRemeditionInFlow) {\n                continue;\n            }\n            const T = getRemediatorClass(remediation, options);\n            remediator = new T(remediation, values, options);\n            if (remediator.canRemediate(context)) {\n                return remediator;\n            }\n            remediatorCandidates.push(remediator);\n        }\n    }\n    return remediatorCandidates[0];\n}\nfunction getNextStep(authClient, remediator, idxResponse) {\n    const nextStep = remediator.getNextStep(authClient, idxResponse.context);\n    const canSkip = canSkipFn(idxResponse);\n    const canResend = canResendFn(idxResponse);\n    return Object.assign(Object.assign(Object.assign({}, nextStep), (canSkip && { canSkip })), (canResend && { canResend }));\n}\nfunction handleFailedResponse(authClient, idxResponse, options = {}) {\n    const terminal = isTerminalResponse(idxResponse);\n    const messages = getMessagesFromResponse(idxResponse, options);\n    if (terminal) {\n        return { idxResponse, terminal, messages };\n    }\n    else {\n        const remediator = getRemediator(idxResponse, {}, options);\n        const nextStep = remediator && getNextStep(authClient, remediator, idxResponse);\n        return Object.assign({ idxResponse,\n            messages }, (nextStep && { nextStep }));\n    }\n}\n\nexport { canResendFn, canSkipFn, filterValuesForRemediation, getAvailableSteps, getEnabledFeatures, getFlowSpecification, getMessagesFromIdxRemediationValue, getMessagesFromResponse, getNextStep, getRemediator, handleFailedResponse, isTerminalResponse, setRemediatorsCtx };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}