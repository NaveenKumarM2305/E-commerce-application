{"ast":null,"code":"import _asyncToGenerator from \"C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Router, loc } from '../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport Backbone from '../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport oktaJQueryStatic from '../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport Settings from '../models/Settings.js';\nimport Bundles from '../util/Bundles.js';\nimport fn$2 from '../util/BrowserFeatures.js';\nimport fn from '../util/ColorsUtil.js';\nimport Enums from '../util/Enums.js';\nimport { ConfigError } from '../util/Errors.js';\nimport Logger from '../util/Logger.js';\nimport LanguageUtil from '../util/LanguageUtil.js';\nimport AuthContainer from '../v1/views/shared/AuthContainer.js';\nimport Header from '../v1/views/shared/Header.js';\nimport AppState from './models/AppState.js';\nimport sessionStorageHelper from './client/sessionStorageHelper.js';\nimport '@okta/okta-auth-js';\nimport { startLoginFlow } from './client/startLoginFlow.js';\nimport { handleConfiguredFlow } from './client/handleConfiguredFlow.js';\nimport { updateAppState } from './client/updateAppState.js';\nimport fn$1 from '../util/CookieUtil.js';\nimport { formatError } from './client/formatError.js';\nimport IonResponseHelper from './ion/IonResponseHelper.js';\n\n/* eslint max-depth: [1,4] */\nclass BaseLoginRouter extends Router {\n  // also set on prototype\n\n  constructor(options) {\n    super(options);\n\n    // Create a default success and/or error handler if\n    // one is not provided.\n    this.Events = Backbone.Events;\n    this.hasControllerRendered = false;\n    this.settings = void 0;\n    this.appState = void 0;\n    this.hooks = void 0;\n    this.header = void 0;\n    if (!options.globalSuccessFn) {\n      options.globalSuccessFn = function () {/* dummy function */};\n    }\n    if (!options.globalErrorFn) {\n      options.globalErrorFn = function (err) {\n        Logger.error(err);\n      };\n    }\n    this.settings = new Settings(oktaUnderscore.omit(options, 'el', 'hooks'), {\n      parse: true\n    });\n    if (!options.el) {\n      this.settings.callGlobalError(new ConfigError(loc('error.required.el')));\n    }\n    oktaJQueryStatic('body > div').on('click', function () {\n      // OKTA-69769 Tooltip wont close on iPhone/iPad\n      // Registering a click handler on the first div\n      // allows a tap that falls outside the tooltip\n      // to be registered as a tap by iOS\n      // and then the open tooltip will lose focus and close.\n    });\n    this.hooks = options.hooks;\n    this.appState = new AppState({}, {\n      settings: this.settings,\n      hooks: this.hooks\n    });\n    const wrapper = new AuthContainer({\n      appState: this.appState\n    });\n    oktaJQueryStatic(options.el).append(wrapper.render().$el);\n    this.el = `#${Enums.WIDGET_CONTAINER_ID}`;\n    this.header = new Header({\n      el: this.el,\n      appState: this.appState,\n      settings: this.settings\n    });\n\n    // Hide until unitial render\n    this.hide();\n    this.listenTo(this.appState, 'change:deviceFingerprint', this.updateDeviceFingerprint);\n    this.listenTo(this.appState, 'restartLoginFlow', this.restartLoginFlow);\n  }\n  updateDeviceFingerprint() {\n    const authClient = this.settings.getAuthClient();\n    const fingerprint = this.appState.get('deviceFingerprint');\n    if (fingerprint) {\n      authClient.http.setRequestHeader('X-Device-Fingerprint', fingerprint);\n    }\n  }\n  handleIdxResponseFailure(error = {\n    error: 'unknown',\n    details: undefined\n  }) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // IDX errors will not call the global error handler\n      error = formatError(error);\n      yield updateAppState(_this.appState, error.details);\n    })();\n  }\n\n  // Generic error handler for all exceptions\n  handleError(error = {\n    error: 'unknown',\n    details: undefined\n  }) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const formattedError = formatError({\n        ...error\n      }); // format the error to resemble an IDX response\n      yield updateAppState(_this2.appState, formattedError.details);\n    })();\n  }\n\n  /* eslint max-statements: [2, 36], complexity: [2, 16] */\n  render(Controller, options = {}) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      // If url changes then widget assumes that user's intention was to initiate a new login flow,\n      // so clear stored token to use the latest token.\n      if (sessionStorageHelper.getLastInitiatedLoginUrl() !== window.location.href) {\n        sessionStorageHelper.removeStateHandle();\n      }\n      // Since we have a wrapper view, render our wrapper and use its content\n      // element as our new el.\n      // Note: Render it here because we know dom is ready at this point\n      if (!_this3.header.rendered()) {\n        _this3.el = _this3.header.render().getContentEl();\n      }\n\n      // If we need to load a language (or apply custom i18n overrides), do\n      // this now and re-run render after it's finished.\n      if (!Bundles.isLoaded(_this3.settings.get('languageCode'))) {\n        yield LanguageUtil.loadLanguage(_this3.appState, _this3.settings);\n      }\n      let error;\n      try {\n        let idxResp = yield startLoginFlow(_this3.settings);\n        if (idxResp.error) {\n          yield _this3.handleIdxResponseFailure(idxResp.error);\n        } else {\n          if (_this3.settings.get('flow') && !_this3.hasControllerRendered) {\n            idxResp = yield handleConfiguredFlow(idxResp, _this3.settings);\n          }\n\n          // TODO: OKTA-494979 - temporary fix, remove when auth-js is upgraded to 6.6+\n          if (!idxResp.requestDidSucceed && IonResponseHelper.isIdxSessionExpiredError(idxResp)) {\n            // clear transaction subsequent page loads do not use stale interactionHandle\n            const authClient = _this3.settings.getAuthClient();\n            authClient.transactionManager.clear();\n          }\n          yield updateAppState(_this3.appState, idxResp);\n        }\n      } catch (exception) {\n        var _exception$is;\n        if ((_exception$is = exception.is) !== null && _exception$is !== void 0 && _exception$is.call(exception, 'terminal')) {\n          _this3.appState.setNonIdxError(exception);\n        } else {\n          error = exception;\n          yield _this3.handleError(exception);\n        }\n      } finally {\n        // These settings should only be used one time, for initial render\n        _this3.settings.unset('stateToken');\n        _this3.settings.unset('proxyIdxResponse');\n      }\n\n      // Load the custom colors only on the first render\n      if (_this3.settings.get('colors.brand') && !fn.isLoaded()) {\n        const colors = {\n          brand: _this3.settings.get('colors.brand')\n        };\n        const cspNonce = _this3.settings.get('cspNonce');\n        fn.addStyle(colors, cspNonce);\n      }\n\n      // Show before initial render\n      _this3.show();\n\n      // render Controller\n      _this3.unload();\n      const controllerOptions = oktaUnderscore.extend({\n        el: _this3.el,\n        settings: _this3.settings,\n        appState: _this3.appState\n      }, options);\n      _this3.controller = new Controller(controllerOptions);\n\n      // Bubble up all controller events\n      _this3.listenTo(_this3.controller, 'all', _this3.trigger);\n      _this3.controller.render();\n      _this3.hasControllerRendered = true;\n\n      // This will reject the promise returned from renderEl\n      if (error) {\n        _this3.settings.callGlobalError(error);\n      }\n\n      // -- TODO: OKTA-244631 How to surface up the CORS error in IDX?\n      // -- The `err` object from idx.js doesn't have XHR object\n      // Global error handling for CORS enabled errors\n      // if (err.xhr && BrowserFeatures.corsIsNotEnabled(err.xhr)) {\n      //   this.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n      //   return;\n      // }\n    })();\n  }\n\n  /**\n    * When \"Remember My Username\" is enabled, we save the identifier in a cookie\n    * so that the next time the user visits the SIW, the identifier field can be \n    * pre-filled with this value.\n   */\n  updateIdentifierCookie(idxResponse) {\n    if (this.settings.get('features.rememberMe')) {\n      var _idxResponse$context;\n      // Update the cookie with the identifier\n      const user = idxResponse === null || idxResponse === void 0 ? void 0 : (_idxResponse$context = idxResponse.context) === null || _idxResponse$context === void 0 ? void 0 : _idxResponse$context.user;\n      const {\n        identifier: identifier\n      } = (user === null || user === void 0 ? void 0 : user.value) || {};\n      if (identifier) {\n        fn$1.setUsernameCookie(identifier);\n      }\n    } else {\n      // We remove the cookie explicitly if this feature is disabled.\n      fn$1.removeUsernameCookie();\n    }\n  }\n  hasAuthenticationSucceeded(idxResponse) {\n    var _idxResponse$rawIdxSt, _idxResponse$rawIdxSt2;\n    // Check whether authentication has succeeded. This is done by checking the server response\n    // and seeing if either the 'success' or 'successWithInteractionCode' objects are present.\n    return (idxResponse === null || idxResponse === void 0 ? void 0 : (_idxResponse$rawIdxSt = idxResponse.rawIdxState) === null || _idxResponse$rawIdxSt === void 0 ? void 0 : _idxResponse$rawIdxSt.success) || (idxResponse === null || idxResponse === void 0 ? void 0 : (_idxResponse$rawIdxSt2 = idxResponse.rawIdxState) === null || _idxResponse$rawIdxSt2 === void 0 ? void 0 : _idxResponse$rawIdxSt2.successWithInteractionCode);\n  }\n  restartLoginFlow(flow) {\n    var _ref;\n    // clear all transaction data and saved IDX response\n    this.settings.getAuthClient().transactionManager.clear();\n    this.appState.set('idx', undefined);\n\n    // Clear the recoveryToken, if any\n    const authClient = this.settings.getAuthClient();\n    delete authClient.options['recoveryToken'];\n    this.settings.unset('recoveryToken');\n    // clear otp (email magic link), if any\n    this.settings.unset('otp');\n\n    // remove all event listeners from current controller instance. A new instance will be created in render().\n    this.controller.stopListening();\n    authClient.idx.setFlow((_ref = flow !== null && flow !== void 0 ? flow : this.settings.get('flow')) !== null && _ref !== void 0 ? _ref : 'default');\n\n    // Re-render the widget\n    this.render(this.controller.constructor);\n  }\n  start() {\n    const pushState = fn$2.supportsPushState();\n    Router.prototype.start.call(this, {\n      pushState: pushState\n    });\n  }\n  hide() {\n    this.header.$el.hide();\n  }\n  show() {\n    this.header.$el.show();\n  }\n  remove() {\n    this.unload();\n    this.header.$el.remove();\n    this.stopListening(this.appState);\n    this.stopListening(this.settings);\n    Bundles.remove();\n    Backbone.history.stop();\n  }\n}\n\n// Add \"Events\" to prototype for compatibility with existing code\nBaseLoginRouter.prototype.Events = Backbone.Events;\nexport { BaseLoginRouter as default };","map":{"version":3,"names":["Router","loc","Backbone","oktaJQueryStatic","oktaUnderscore","Settings","Bundles","fn$2","fn","Enums","ConfigError","Logger","LanguageUtil","AuthContainer","Header","AppState","sessionStorageHelper","startLoginFlow","handleConfiguredFlow","updateAppState","fn$1","formatError","IonResponseHelper","BaseLoginRouter","constructor","options","Events","hasControllerRendered","settings","appState","hooks","header","globalSuccessFn","globalErrorFn","err","error","omit","parse","el","callGlobalError","on","wrapper","append","render","$el","WIDGET_CONTAINER_ID","hide","listenTo","updateDeviceFingerprint","restartLoginFlow","authClient","getAuthClient","fingerprint","get","http","setRequestHeader","handleIdxResponseFailure","details","undefined","_this","_asyncToGenerator","handleError","_this2","formattedError","Controller","_this3","getLastInitiatedLoginUrl","window","location","href","removeStateHandle","rendered","getContentEl","isLoaded","loadLanguage","idxResp","requestDidSucceed","isIdxSessionExpiredError","transactionManager","clear","exception","_exception$is","is","call","setNonIdxError","unset","colors","brand","cspNonce","addStyle","show","unload","controllerOptions","extend","controller","trigger","updateIdentifierCookie","idxResponse","_idxResponse$context","user","context","identifier","value","setUsernameCookie","removeUsernameCookie","hasAuthenticationSucceeded","_idxResponse$rawIdxSt","_idxResponse$rawIdxSt2","rawIdxState","success","successWithInteractionCode","flow","_ref","set","stopListening","idx","setFlow","start","pushState","supportsPushState","prototype","remove","history","stop","default"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v2/BaseLoginRouter.js"],"sourcesContent":["import { Router, loc } from '../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport Backbone from '../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport oktaJQueryStatic from '../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport Settings from '../models/Settings.js';\nimport Bundles from '../util/Bundles.js';\nimport fn$2 from '../util/BrowserFeatures.js';\nimport fn from '../util/ColorsUtil.js';\nimport Enums from '../util/Enums.js';\nimport { ConfigError } from '../util/Errors.js';\nimport Logger from '../util/Logger.js';\nimport LanguageUtil from '../util/LanguageUtil.js';\nimport AuthContainer from '../v1/views/shared/AuthContainer.js';\nimport Header from '../v1/views/shared/Header.js';\nimport AppState from './models/AppState.js';\nimport sessionStorageHelper from './client/sessionStorageHelper.js';\nimport '@okta/okta-auth-js';\nimport { startLoginFlow } from './client/startLoginFlow.js';\nimport { handleConfiguredFlow } from './client/handleConfiguredFlow.js';\nimport { updateAppState } from './client/updateAppState.js';\nimport fn$1 from '../util/CookieUtil.js';\nimport { formatError } from './client/formatError.js';\nimport IonResponseHelper from './ion/IonResponseHelper.js';\n\n/* eslint max-depth: [1,4] */\nclass BaseLoginRouter extends Router {\n  // also set on prototype\n\n  constructor(options) {\n    super(options);\n\n    // Create a default success and/or error handler if\n    // one is not provided.\n    this.Events = Backbone.Events;\n    this.hasControllerRendered = false;\n    this.settings = void 0;\n    this.appState = void 0;\n    this.hooks = void 0;\n    this.header = void 0;\n    if (!options.globalSuccessFn) {\n      options.globalSuccessFn = function () {/* dummy function */};\n    }\n    if (!options.globalErrorFn) {\n      options.globalErrorFn = function (err) {\n        Logger.error(err);\n      };\n    }\n    this.settings = new Settings(oktaUnderscore.omit(options, 'el', 'hooks'), {\n      parse: true\n    });\n    if (!options.el) {\n      this.settings.callGlobalError(new ConfigError(loc('error.required.el')));\n    }\n    oktaJQueryStatic('body > div').on('click', function () {\n      // OKTA-69769 Tooltip wont close on iPhone/iPad\n      // Registering a click handler on the first div\n      // allows a tap that falls outside the tooltip\n      // to be registered as a tap by iOS\n      // and then the open tooltip will lose focus and close.\n    });\n    this.hooks = options.hooks;\n    this.appState = new AppState({}, {\n      settings: this.settings,\n      hooks: this.hooks\n    });\n    const wrapper = new AuthContainer({\n      appState: this.appState\n    });\n    oktaJQueryStatic(options.el).append(wrapper.render().$el);\n    this.el = `#${Enums.WIDGET_CONTAINER_ID}`;\n    this.header = new Header({\n      el: this.el,\n      appState: this.appState,\n      settings: this.settings\n    });\n\n    // Hide until unitial render\n    this.hide();\n    this.listenTo(this.appState, 'change:deviceFingerprint', this.updateDeviceFingerprint);\n    this.listenTo(this.appState, 'restartLoginFlow', this.restartLoginFlow);\n  }\n  updateDeviceFingerprint() {\n    const authClient = this.settings.getAuthClient();\n    const fingerprint = this.appState.get('deviceFingerprint');\n    if (fingerprint) {\n      authClient.http.setRequestHeader('X-Device-Fingerprint', fingerprint);\n    }\n  }\n  async handleIdxResponseFailure(error = {\n    error: 'unknown',\n    details: undefined\n  }) {\n    // IDX errors will not call the global error handler\n    error = formatError(error);\n    await updateAppState(this.appState, error.details);\n  }\n\n  // Generic error handler for all exceptions\n  async handleError(error = {\n    error: 'unknown',\n    details: undefined\n  }) {\n    const formattedError = formatError({\n      ...error\n    }); // format the error to resemble an IDX response\n    await updateAppState(this.appState, formattedError.details);\n  }\n\n  /* eslint max-statements: [2, 36], complexity: [2, 16] */\n  async render(Controller, options = {}) {\n    // If url changes then widget assumes that user's intention was to initiate a new login flow,\n    // so clear stored token to use the latest token.\n    if (sessionStorageHelper.getLastInitiatedLoginUrl() !== window.location.href) {\n      sessionStorageHelper.removeStateHandle();\n    }\n    // Since we have a wrapper view, render our wrapper and use its content\n    // element as our new el.\n    // Note: Render it here because we know dom is ready at this point\n    if (!this.header.rendered()) {\n      this.el = this.header.render().getContentEl();\n    }\n\n    // If we need to load a language (or apply custom i18n overrides), do\n    // this now and re-run render after it's finished.\n    if (!Bundles.isLoaded(this.settings.get('languageCode'))) {\n      await LanguageUtil.loadLanguage(this.appState, this.settings);\n    }\n    let error;\n    try {\n      let idxResp = await startLoginFlow(this.settings);\n      if (idxResp.error) {\n        await this.handleIdxResponseFailure(idxResp.error);\n      } else {\n        if (this.settings.get('flow') && !this.hasControllerRendered) {\n          idxResp = await handleConfiguredFlow(idxResp, this.settings);\n        }\n\n        // TODO: OKTA-494979 - temporary fix, remove when auth-js is upgraded to 6.6+\n        if (!idxResp.requestDidSucceed && IonResponseHelper.isIdxSessionExpiredError(idxResp)) {\n          // clear transaction subsequent page loads do not use stale interactionHandle\n          const authClient = this.settings.getAuthClient();\n          authClient.transactionManager.clear();\n        }\n        await updateAppState(this.appState, idxResp);\n      }\n    } catch (exception) {\n      var _exception$is;\n      if ((_exception$is = exception.is) !== null && _exception$is !== void 0 && _exception$is.call(exception, 'terminal')) {\n        this.appState.setNonIdxError(exception);\n      } else {\n        error = exception;\n        await this.handleError(exception);\n      }\n    } finally {\n      // These settings should only be used one time, for initial render\n      this.settings.unset('stateToken');\n      this.settings.unset('proxyIdxResponse');\n    }\n\n    // Load the custom colors only on the first render\n    if (this.settings.get('colors.brand') && !fn.isLoaded()) {\n      const colors = {\n        brand: this.settings.get('colors.brand')\n      };\n      const cspNonce = this.settings.get('cspNonce');\n      fn.addStyle(colors, cspNonce);\n    }\n\n    // Show before initial render\n    this.show();\n\n    // render Controller\n    this.unload();\n    const controllerOptions = oktaUnderscore.extend({\n      el: this.el,\n      settings: this.settings,\n      appState: this.appState\n    }, options);\n    this.controller = new Controller(controllerOptions);\n\n    // Bubble up all controller events\n    this.listenTo(this.controller, 'all', this.trigger);\n    this.controller.render();\n    this.hasControllerRendered = true;\n\n    // This will reject the promise returned from renderEl\n    if (error) {\n      this.settings.callGlobalError(error);\n    }\n\n    // -- TODO: OKTA-244631 How to surface up the CORS error in IDX?\n    // -- The `err` object from idx.js doesn't have XHR object\n    // Global error handling for CORS enabled errors\n    // if (err.xhr && BrowserFeatures.corsIsNotEnabled(err.xhr)) {\n    //   this.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n    //   return;\n    // }\n  }\n\n  /**\n    * When \"Remember My Username\" is enabled, we save the identifier in a cookie\n    * so that the next time the user visits the SIW, the identifier field can be \n    * pre-filled with this value.\n   */\n  updateIdentifierCookie(idxResponse) {\n    if (this.settings.get('features.rememberMe')) {\n      var _idxResponse$context;\n      // Update the cookie with the identifier\n      const user = idxResponse === null || idxResponse === void 0 ? void 0 : (_idxResponse$context = idxResponse.context) === null || _idxResponse$context === void 0 ? void 0 : _idxResponse$context.user;\n      const {\n        identifier: identifier\n      } = (user === null || user === void 0 ? void 0 : user.value) || {};\n      if (identifier) {\n        fn$1.setUsernameCookie(identifier);\n      }\n    } else {\n      // We remove the cookie explicitly if this feature is disabled.\n      fn$1.removeUsernameCookie();\n    }\n  }\n  hasAuthenticationSucceeded(idxResponse) {\n    var _idxResponse$rawIdxSt, _idxResponse$rawIdxSt2;\n    // Check whether authentication has succeeded. This is done by checking the server response\n    // and seeing if either the 'success' or 'successWithInteractionCode' objects are present.\n    return (idxResponse === null || idxResponse === void 0 ? void 0 : (_idxResponse$rawIdxSt = idxResponse.rawIdxState) === null || _idxResponse$rawIdxSt === void 0 ? void 0 : _idxResponse$rawIdxSt.success) || (idxResponse === null || idxResponse === void 0 ? void 0 : (_idxResponse$rawIdxSt2 = idxResponse.rawIdxState) === null || _idxResponse$rawIdxSt2 === void 0 ? void 0 : _idxResponse$rawIdxSt2.successWithInteractionCode);\n  }\n  restartLoginFlow(flow) {\n    var _ref;\n    // clear all transaction data and saved IDX response\n    this.settings.getAuthClient().transactionManager.clear();\n    this.appState.set('idx', undefined);\n\n    // Clear the recoveryToken, if any\n    const authClient = this.settings.getAuthClient();\n    delete authClient.options['recoveryToken'];\n    this.settings.unset('recoveryToken');\n    // clear otp (email magic link), if any\n    this.settings.unset('otp');\n\n    // remove all event listeners from current controller instance. A new instance will be created in render().\n    this.controller.stopListening();\n    authClient.idx.setFlow((_ref = flow !== null && flow !== void 0 ? flow : this.settings.get('flow')) !== null && _ref !== void 0 ? _ref : 'default');\n\n    // Re-render the widget\n    this.render(this.controller.constructor);\n  }\n  start() {\n    const pushState = fn$2.supportsPushState();\n    Router.prototype.start.call(this, {\n      pushState: pushState\n    });\n  }\n  hide() {\n    this.header.$el.hide();\n  }\n  show() {\n    this.header.$el.show();\n  }\n  remove() {\n    this.unload();\n    this.header.$el.remove();\n    this.stopListening(this.appState);\n    this.stopListening(this.settings);\n    Bundles.remove();\n    Backbone.history.stop();\n  }\n}\n\n// Add \"Events\" to prototype for compatibility with existing code\nBaseLoginRouter.prototype.Events = Backbone.Events;\n\nexport { BaseLoginRouter as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}