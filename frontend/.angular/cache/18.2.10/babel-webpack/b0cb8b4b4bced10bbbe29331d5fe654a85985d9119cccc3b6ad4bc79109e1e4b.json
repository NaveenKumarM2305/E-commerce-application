{"ast":null,"code":"import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\nvar STATE = '__STATE__';\nvar FETCH_DATA = 'FETCH_DATA';\nvar PAGINATION_DATA = 'PAGINATION_DATA';\nvar DEFAULT_PARAMS = 'DEFAULT_PARAMS';\nvar LINK_BY_HEADER = 'LINK_BY_HEADER';\nvar XHR = 'XHR'; // ################################################\n// # Source: https://gist.github.com/deiu/9335803\n// ################################################\n// unquote string (utility)\n\nfunction unquote(value) {\n  if (value.charAt(0) === '\"' && value.charAt(value.length - 1) === '\"') {\n    return value.substring(1, value.length - 1);\n  }\n  return value;\n}\n/*\nparse a Link header\nLink:<https://example.org/.meta>; rel=meta\nvar r = parseLinkHeader(xhr.getResponseHeader('Link');\nr['meta']['href'] outputs https://example.org/.meta\n*/\n\nfunction parseLinkHeader(header) {\n  /* eslint max-statements: 0 */\n  var linkexp = /<[^>]*>\\s*(\\s*;\\s*[^()<>@,;:\"/[\\]?={} \\t]+=(([^()<>@,;:\"/[\\]?={} \\t]+)|(\"[^\"]*\")))*(,|$)/g;\n  var paramexp = /[^()<>@,;:\"/[\\]?={} \\t]+=(([^()<>@,;:\"/[\\]?={} \\t]+)|(\"[^\"]*\"))/g;\n  var matches = header.match(linkexp);\n  var rels = {};\n  for (var i = 0; i < matches.length; i++) {\n    var split = matches[i].split('>');\n    var href = split[0].substring(1);\n    var link = {\n      href: undefined,\n      rel: undefined\n    };\n    link.href = href;\n    var s = split[1].match(paramexp);\n    for (var j = 0; j < s.length; j++) {\n      var paramsplit = s[j].split('=');\n      var name = paramsplit[0];\n      link[name] = unquote(paramsplit[1]);\n    }\n    if (link.rel !== undefined) {\n      rels[link.rel] = link;\n    }\n  }\n  return rels;\n}\n/*\n * Sets the next page URL on the collection from link headers\n * See: http://www.rfc-editor.org/rfc/rfc5988.txt\n *\n * This method is looking for a link header with `rel=\"next\"`\n * An set's it as the next page's URL.\n *\n * If it doesn't find a next page, and current page is set by a link header\n * it assumes we are at the last page and deletes the current `next`\n */\n\nfunction setLinkHeadersPagination(collection, xhr) {\n  try {\n    var links = parseLinkHeader(xhr.getResponseHeader('link'));\n    collection[STATE].set(LINK_BY_HEADER, true);\n    collection.setPagination(links['next'].href);\n  } catch (e) {\n    if (collection[STATE].get(LINK_BY_HEADER)) {\n      collection.setPagination(null);\n    }\n  }\n}\nfunction parseQuery(url) {\n  var params = {};\n  var rawQueryStr = url && url.split('?')[1];\n  var queryString = rawQueryStr && rawQueryStr.split('#')[0]; // Do not decode queryString before split by '&' because '&' can be found in value\n\n  var props = queryString ? queryString.split('&') : [];\n  for (var i = 0; i < props.length; i++) {\n    var decode = decodeURIComponent(props[i]).replace(/\\+/g, ' ');\n    var parts = decode.split('=');\n    params[parts.shift()] = parts.join('=');\n  }\n  return params;\n} // ################################################\n// # /Source\n// ################################################\n//\n\nconst collectionProps = /** @lends src/framework/Collection.prototype */\n{\n  /**\n   * Default fetch parameters\n   * @type {Object|Function}\n   */\n  params: {},\n  preinitialize: function (models, options) {\n    const state = new Backbone.Model();\n    const defaultParams = oktaUnderscore.defaults(options && options.params || {}, oktaUnderscore.result(this, 'params') || {});\n    state.set(DEFAULT_PARAMS, defaultParams);\n    this[STATE] = state; // Adds support for child class to convert to ES6 Class.\n    // After conversion, `this.model` has to be a pure function to return Model Class.\n    // The changes below is trying to distinguish the ambiguity between a Class and normal function,\n    // as both are JavaScript function essentially.\n    // There are three ways to define class for `this.model`\n    // 1. Object properties: `model: BaseModel.extend({..})`\n    // 2. Function constructor:\n    // See example from\n    // - appversions/src/models/CustomType.js\n    // - appversions/src/models/EnumType.js\n    // - appversions/src/models/SignOnMode.js\n    // - authn-factors/src/models/Feature.js\n    // - shared/src/models/SamlAttribute.js\n    // 3. Function that returns a class.\n    //    model: function() { return BaseModel.extend({..}); }\n    //\n    // option 1 and 2 exists in code base today\n    // option 3 is introduced to support child class to convert to ES6 class.\n    // TODO: think of remove following check\n    // The reason for `this.model !== Backbone.Model` is because `this.model` is default to `Backbone.Model`\n    // set at Backbone.Collection.\n\n    if (oktaUnderscore.isFunction(this.model) && this.model.length === 0 && this.model.isCourageModel !== true) {\n      this.model = oktaUnderscore.result(this, 'model');\n    }\n    Backbone.Collection.prototype.preinitialize.apply(this, arguments);\n  },\n  /**\n   * See [Backbone Collection.sync](http://backbonejs.org/#Collection-sync).\n   */\n  sync: function (method, collection, options) {\n    var self = this;\n    var success = options.success;\n    options.success = function (resp, status, xhr) {\n      // its important to set the pagination data *before* we call the success callback\n      // because we want the pagination data to be ready when the collection triggers the `sync` event\n      setLinkHeadersPagination(self, xhr);\n      success.apply(null, arguments);\n    };\n    return Backbone.Collection.prototype.sync.call(this, method, collection, options);\n  },\n  /**\n   * See [Backbone Collection.fetch](http://backbonejs.org/#Collection-fetch).\n   */\n  fetch: function (options) {\n    options || (options = {});\n    var state = this[STATE];\n    var xhr = state.get(XHR);\n    options.data = oktaUnderscore.extend({}, state.get(DEFAULT_PARAMS), options.data || {});\n    options.fromFetch = true;\n    state.set(FETCH_DATA, options.data);\n    if (xhr && xhr.abort && options.abort !== false) {\n      xhr.abort();\n    }\n    xhr = Backbone.Collection.prototype.fetch.call(this, options);\n    state.set(XHR, xhr);\n    return xhr;\n  },\n  /**\n   * Set pagination data to get to the next page\n   * @param {Mixed} params\n   * @param {Object} [options]\n   * @param {Boolean} [options.fromFetch] should we include data from the previous fetch call in this object\n   * @example\n   * collection.setPagination({q: 'foo', page: '2'}); //=> {q: 'foo', page: '2'}\n   *\n   * collection.setPagination('/path/to/resource?q=baz&page=4'); //=> {q: 'baz', page: '4'}\n   *\n   * collection.setPagination('/path/to/resource'); //=> {}\n   *\n   * collection.fetch({data: {q: 'foo'}});\n   * collection.setPagination({page: 2}, {fromFetch: true}); //=> {q: 'foo', page: 2}\n   *\n   * any \"falsy\" value resets pagination\n   * collection.setPagination(); //=> {}\n   * collection.setPagination(null); //=> {}\n   * collection.setPagination(false); //=> {}\n   * collection.setPagination(''); //=> {}\n   * collection.setPagination(0); //=> {}\n   * @protected\n   */\n  setPagination: function (params, options) {\n    /* eslint complexity: [2, 8] */\n    if (oktaUnderscore.isString(params) && params) {\n      params = parseQuery(params);\n    }\n    if (!oktaUnderscore.isObject(params) || oktaUnderscore.isArray(params) || !oktaUnderscore.size(params)) {\n      params = null;\n    } else if (options && options.fromFetch) {\n      params = oktaUnderscore.extend({}, this.getFetchData(), params);\n    }\n    this[STATE].set(PAGINATION_DATA, params);\n  },\n  /**\n   * Returns the `data` parameters applied in th most recent `fetch` call\n   * It will include parameters set by {@link #params} and optios.params passed to the constructor\n   * @return {Object}\n   * @protected\n   */\n  getFetchData: function () {\n    return this[STATE].get(FETCH_DATA) || {};\n  },\n  /**\n   * Data object for constructing a request to fetch the next page\n   * @return {Object}\n   * @protected\n   */\n  getPaginationData: function () {\n    return this[STATE].get(PAGINATION_DATA) || {};\n  },\n  /**\n   * Does this collection have more data on the server (e.g is there a next \"page\")\n   * @return {Boolean}\n   */\n  hasMore: function () {\n    return oktaUnderscore.size(this.getPaginationData()) > 0;\n  },\n  /**\n   * Get the next page from the server\n   * @return {Object} xhr returned by {@link #fetch}\n   */\n  fetchMore: function () {\n    if (!this.hasMore()) {\n      throw new Error('Invalid Request');\n    }\n    return this.fetch({\n      data: this.getPaginationData(),\n      add: true,\n      remove: false,\n      update: true\n    });\n  },\n  /**\n   * See [Backbone Collection.reset](http://backbonejs.org/#Collection-reset).\n   */\n  reset: function (models, options) {\n    options || (options = {}); // only reset the pagination when reset is being called explicitly.\n    // this is to avoid link headers pagination being overriden and reset when\n    // fetching the collection using `collection.fetch({reset: true})`\n\n    if (!options.fromFetch) {\n      this.setPagination(null);\n    }\n    return Backbone.Collection.prototype.reset.apply(this, arguments);\n  },\n  // we want \"where\" to be able to search through derived properties as well\n  where: function (attrs, first) {\n    if (oktaUnderscore.isEmpty(attrs)) {\n      return first ? void 0 : [];\n    }\n    return this[first ? 'find' : 'filter'](function (model) {\n      for (var key in attrs) {\n        if (attrs[key] !== model.get(key)) {\n          return false;\n        }\n      }\n      return true;\n    });\n  },\n  /**\n   * See [Backbone Collection.create](http://backbonejs.org/#Collection-create).\n   */\n  create: function (model, options) {\n    options || (options = {});\n    if (!oktaUnderscore.result(model, 'urlRoot')) {\n      options.url = oktaUnderscore.result(this, 'url');\n    }\n    return Backbone.Collection.prototype.create.call(this, model, options);\n  },\n  // Use Object.create instead of {} on _byId to avoid __proto__ functions to return\n  // This can be removed once the issue has addressed in backbone framework\n  // https://github.com/jashkenas/backbone/pull/4225\n  _reset: function () {\n    Backbone.Collection.prototype['_reset'].call(this);\n    this._byId = Object.create(null);\n  }\n};\n/**\n *\n * Archer.Collection is a standard [Backbone.Collection](http://backbonejs.org/#Collection) with pre-set `data`\n * parameters and built in pagination - works with [http link headers](https://tools.ietf.org/html/rfc5988)\n * out of the box:\n *\n * @class src/framework/Collection\n * @extends external:Backbone.Collection\n * @example\n * var Users = Archer.Collection.extend({\n *   url: '/api/v1/users'\n *   params: {expand: true}\n * });\n * var users = new Users(null, {params: {type: 'new'}}),\n *     $button = this.$('a.fetch-more');\n *\n * $button.click(function () {\n *   users.fetchMore();\n * });\n *\n * this.listenTo(users, 'sync', function () {\n *   $button.toggle(users.hasMore());\n * });\n *\n * collection.fetch(); //=> '/api/v1/users?expand=true&type=new'\n */\n\nconst Collection = Backbone.Collection.extend(collectionProps);\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a Collection Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\nCollection.isCourageCollection = true;\nexport { Collection as default };","map":{"version":3,"names":["oktaUnderscore","Backbone","STATE","FETCH_DATA","PAGINATION_DATA","DEFAULT_PARAMS","LINK_BY_HEADER","XHR","unquote","value","charAt","length","substring","parseLinkHeader","header","linkexp","paramexp","matches","match","rels","i","split","href","link","undefined","rel","s","j","paramsplit","name","setLinkHeadersPagination","collection","xhr","links","getResponseHeader","set","setPagination","e","get","parseQuery","url","params","rawQueryStr","queryString","props","decode","decodeURIComponent","replace","parts","shift","join","collectionProps","preinitialize","models","options","state","Model","defaultParams","defaults","result","isFunction","model","isCourageModel","Collection","prototype","apply","arguments","sync","method","self","success","resp","status","call","fetch","data","extend","fromFetch","abort","isString","isObject","isArray","size","getFetchData","getPaginationData","hasMore","fetchMore","Error","add","remove","update","reset","where","attrs","first","isEmpty","key","create","_reset","_byId","Object","isCourageCollection","default"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/packages/@okta/courage-dist/esm/src/courage/framework/Collection.js"],"sourcesContent":["import oktaUnderscore from '../util/underscore-wrapper.js';\nimport Backbone from '../vendor/lib/backbone.js';\n\nvar STATE = '__STATE__';\nvar FETCH_DATA = 'FETCH_DATA';\nvar PAGINATION_DATA = 'PAGINATION_DATA';\nvar DEFAULT_PARAMS = 'DEFAULT_PARAMS';\nvar LINK_BY_HEADER = 'LINK_BY_HEADER';\nvar XHR = 'XHR'; // ################################################\n// # Source: https://gist.github.com/deiu/9335803\n// ################################################\n// unquote string (utility)\n\nfunction unquote(value) {\n  if (value.charAt(0) === '\"' && value.charAt(value.length - 1) === '\"') {\n    return value.substring(1, value.length - 1);\n  }\n  return value;\n}\n/*\nparse a Link header\nLink:<https://example.org/.meta>; rel=meta\nvar r = parseLinkHeader(xhr.getResponseHeader('Link');\nr['meta']['href'] outputs https://example.org/.meta\n*/\n\nfunction parseLinkHeader(header) {\n  /* eslint max-statements: 0 */\n  var linkexp = /<[^>]*>\\s*(\\s*;\\s*[^()<>@,;:\"/[\\]?={} \\t]+=(([^()<>@,;:\"/[\\]?={} \\t]+)|(\"[^\"]*\")))*(,|$)/g;\n  var paramexp = /[^()<>@,;:\"/[\\]?={} \\t]+=(([^()<>@,;:\"/[\\]?={} \\t]+)|(\"[^\"]*\"))/g;\n  var matches = header.match(linkexp);\n  var rels = {};\n  for (var i = 0; i < matches.length; i++) {\n    var split = matches[i].split('>');\n    var href = split[0].substring(1);\n    var link = {\n      href: undefined,\n      rel: undefined\n    };\n    link.href = href;\n    var s = split[1].match(paramexp);\n    for (var j = 0; j < s.length; j++) {\n      var paramsplit = s[j].split('=');\n      var name = paramsplit[0];\n      link[name] = unquote(paramsplit[1]);\n    }\n    if (link.rel !== undefined) {\n      rels[link.rel] = link;\n    }\n  }\n  return rels;\n}\n/*\n * Sets the next page URL on the collection from link headers\n * See: http://www.rfc-editor.org/rfc/rfc5988.txt\n *\n * This method is looking for a link header with `rel=\"next\"`\n * An set's it as the next page's URL.\n *\n * If it doesn't find a next page, and current page is set by a link header\n * it assumes we are at the last page and deletes the current `next`\n */\n\nfunction setLinkHeadersPagination(collection, xhr) {\n  try {\n    var links = parseLinkHeader(xhr.getResponseHeader('link'));\n    collection[STATE].set(LINK_BY_HEADER, true);\n    collection.setPagination(links['next'].href);\n  } catch (e) {\n    if (collection[STATE].get(LINK_BY_HEADER)) {\n      collection.setPagination(null);\n    }\n  }\n}\nfunction parseQuery(url) {\n  var params = {};\n  var rawQueryStr = url && url.split('?')[1];\n  var queryString = rawQueryStr && rawQueryStr.split('#')[0]; // Do not decode queryString before split by '&' because '&' can be found in value\n\n  var props = queryString ? queryString.split('&') : [];\n  for (var i = 0; i < props.length; i++) {\n    var decode = decodeURIComponent(props[i]).replace(/\\+/g, ' ');\n    var parts = decode.split('=');\n    params[parts.shift()] = parts.join('=');\n  }\n  return params;\n} // ################################################\n// # /Source\n// ################################################\n//\n\nconst collectionProps = /** @lends src/framework/Collection.prototype */\n{\n  /**\n   * Default fetch parameters\n   * @type {Object|Function}\n   */\n  params: {},\n  preinitialize: function (models, options) {\n    const state = new Backbone.Model();\n    const defaultParams = oktaUnderscore.defaults(options && options.params || {}, oktaUnderscore.result(this, 'params') || {});\n    state.set(DEFAULT_PARAMS, defaultParams);\n    this[STATE] = state; // Adds support for child class to convert to ES6 Class.\n    // After conversion, `this.model` has to be a pure function to return Model Class.\n    // The changes below is trying to distinguish the ambiguity between a Class and normal function,\n    // as both are JavaScript function essentially.\n    // There are three ways to define class for `this.model`\n    // 1. Object properties: `model: BaseModel.extend({..})`\n    // 2. Function constructor:\n    // See example from\n    // - appversions/src/models/CustomType.js\n    // - appversions/src/models/EnumType.js\n    // - appversions/src/models/SignOnMode.js\n    // - authn-factors/src/models/Feature.js\n    // - shared/src/models/SamlAttribute.js\n    // 3. Function that returns a class.\n    //    model: function() { return BaseModel.extend({..}); }\n    //\n    // option 1 and 2 exists in code base today\n    // option 3 is introduced to support child class to convert to ES6 class.\n    // TODO: think of remove following check\n    // The reason for `this.model !== Backbone.Model` is because `this.model` is default to `Backbone.Model`\n    // set at Backbone.Collection.\n\n    if (oktaUnderscore.isFunction(this.model) && this.model.length === 0 && this.model.isCourageModel !== true) {\n      this.model = oktaUnderscore.result(this, 'model');\n    }\n    Backbone.Collection.prototype.preinitialize.apply(this, arguments);\n  },\n  /**\n   * See [Backbone Collection.sync](http://backbonejs.org/#Collection-sync).\n   */\n  sync: function (method, collection, options) {\n    var self = this;\n    var success = options.success;\n    options.success = function (resp, status, xhr) {\n      // its important to set the pagination data *before* we call the success callback\n      // because we want the pagination data to be ready when the collection triggers the `sync` event\n      setLinkHeadersPagination(self, xhr);\n      success.apply(null, arguments);\n    };\n    return Backbone.Collection.prototype.sync.call(this, method, collection, options);\n  },\n  /**\n   * See [Backbone Collection.fetch](http://backbonejs.org/#Collection-fetch).\n   */\n  fetch: function (options) {\n    options || (options = {});\n    var state = this[STATE];\n    var xhr = state.get(XHR);\n    options.data = oktaUnderscore.extend({}, state.get(DEFAULT_PARAMS), options.data || {});\n    options.fromFetch = true;\n    state.set(FETCH_DATA, options.data);\n    if (xhr && xhr.abort && options.abort !== false) {\n      xhr.abort();\n    }\n    xhr = Backbone.Collection.prototype.fetch.call(this, options);\n    state.set(XHR, xhr);\n    return xhr;\n  },\n  /**\n   * Set pagination data to get to the next page\n   * @param {Mixed} params\n   * @param {Object} [options]\n   * @param {Boolean} [options.fromFetch] should we include data from the previous fetch call in this object\n   * @example\n   * collection.setPagination({q: 'foo', page: '2'}); //=> {q: 'foo', page: '2'}\n   *\n   * collection.setPagination('/path/to/resource?q=baz&page=4'); //=> {q: 'baz', page: '4'}\n   *\n   * collection.setPagination('/path/to/resource'); //=> {}\n   *\n   * collection.fetch({data: {q: 'foo'}});\n   * collection.setPagination({page: 2}, {fromFetch: true}); //=> {q: 'foo', page: 2}\n   *\n   * any \"falsy\" value resets pagination\n   * collection.setPagination(); //=> {}\n   * collection.setPagination(null); //=> {}\n   * collection.setPagination(false); //=> {}\n   * collection.setPagination(''); //=> {}\n   * collection.setPagination(0); //=> {}\n   * @protected\n   */\n  setPagination: function (params, options) {\n    /* eslint complexity: [2, 8] */\n    if (oktaUnderscore.isString(params) && params) {\n      params = parseQuery(params);\n    }\n    if (!oktaUnderscore.isObject(params) || oktaUnderscore.isArray(params) || !oktaUnderscore.size(params)) {\n      params = null;\n    } else if (options && options.fromFetch) {\n      params = oktaUnderscore.extend({}, this.getFetchData(), params);\n    }\n    this[STATE].set(PAGINATION_DATA, params);\n  },\n  /**\n   * Returns the `data` parameters applied in th most recent `fetch` call\n   * It will include parameters set by {@link #params} and optios.params passed to the constructor\n   * @return {Object}\n   * @protected\n   */\n  getFetchData: function () {\n    return this[STATE].get(FETCH_DATA) || {};\n  },\n  /**\n   * Data object for constructing a request to fetch the next page\n   * @return {Object}\n   * @protected\n   */\n  getPaginationData: function () {\n    return this[STATE].get(PAGINATION_DATA) || {};\n  },\n  /**\n   * Does this collection have more data on the server (e.g is there a next \"page\")\n   * @return {Boolean}\n   */\n  hasMore: function () {\n    return oktaUnderscore.size(this.getPaginationData()) > 0;\n  },\n  /**\n   * Get the next page from the server\n   * @return {Object} xhr returned by {@link #fetch}\n   */\n  fetchMore: function () {\n    if (!this.hasMore()) {\n      throw new Error('Invalid Request');\n    }\n    return this.fetch({\n      data: this.getPaginationData(),\n      add: true,\n      remove: false,\n      update: true\n    });\n  },\n  /**\n   * See [Backbone Collection.reset](http://backbonejs.org/#Collection-reset).\n   */\n  reset: function (models, options) {\n    options || (options = {}); // only reset the pagination when reset is being called explicitly.\n    // this is to avoid link headers pagination being overriden and reset when\n    // fetching the collection using `collection.fetch({reset: true})`\n\n    if (!options.fromFetch) {\n      this.setPagination(null);\n    }\n    return Backbone.Collection.prototype.reset.apply(this, arguments);\n  },\n  // we want \"where\" to be able to search through derived properties as well\n  where: function (attrs, first) {\n    if (oktaUnderscore.isEmpty(attrs)) {\n      return first ? void 0 : [];\n    }\n    return this[first ? 'find' : 'filter'](function (model) {\n      for (var key in attrs) {\n        if (attrs[key] !== model.get(key)) {\n          return false;\n        }\n      }\n      return true;\n    });\n  },\n  /**\n   * See [Backbone Collection.create](http://backbonejs.org/#Collection-create).\n   */\n  create: function (model, options) {\n    options || (options = {});\n    if (!oktaUnderscore.result(model, 'urlRoot')) {\n      options.url = oktaUnderscore.result(this, 'url');\n    }\n    return Backbone.Collection.prototype.create.call(this, model, options);\n  },\n  // Use Object.create instead of {} on _byId to avoid __proto__ functions to return\n  // This can be removed once the issue has addressed in backbone framework\n  // https://github.com/jashkenas/backbone/pull/4225\n  _reset: function () {\n    Backbone.Collection.prototype['_reset'].call(this);\n    this._byId = Object.create(null);\n  }\n};\n/**\n *\n * Archer.Collection is a standard [Backbone.Collection](http://backbonejs.org/#Collection) with pre-set `data`\n * parameters and built in pagination - works with [http link headers](https://tools.ietf.org/html/rfc5988)\n * out of the box:\n *\n * @class src/framework/Collection\n * @extends external:Backbone.Collection\n * @example\n * var Users = Archer.Collection.extend({\n *   url: '/api/v1/users'\n *   params: {expand: true}\n * });\n * var users = new Users(null, {params: {type: 'new'}}),\n *     $button = this.$('a.fetch-more');\n *\n * $button.click(function () {\n *   users.fetchMore();\n * });\n *\n * this.listenTo(users, 'sync', function () {\n *   $button.toggle(users.hasMore());\n * });\n *\n * collection.fetch(); //=> '/api/v1/users?expand=true&type=new'\n */\n\nconst Collection = Backbone.Collection.extend(collectionProps);\n/**\n * It's used for distinguishing the ambiguity from _.isFunction()\n * which returns True for both a JavaScript Class constructor function\n * and normal function. With this flag, we can tell a function is actually\n * a Collection Class.\n * This flag is added in order to support the type of a parameter can be\n * either a Class or pure function that returns a Class.\n */\n\nCollection.isCourageCollection = true;\n\nexport { Collection as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}