{"ast":null,"code":"import '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport oktaJQueryStatic from '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport Logger from '../../util/Logger.js';\nimport { AUTHENTICATOR_KEY } from './RemediationConstants.js';\nimport { getMessage, getI18NValue, getI18NParams } from './i18nUtils.js';\nexport { doesI18NKeyExist, getI18NParams, getI18NValue, getI18nKey, getMessage, getMessageFromBrowserError, getMessageKey, isCustomizedI18nKey } from './i18nUtils.js';\n\n/* eslint-disable max-len */\nconst updateLabelForUiSchema = (remediation, uiSchema) => {\n  var _remediation$relatesT, _remediation$relatesT2;\n  if (uiSchema.mutable === false && uiSchema.name.indexOf('questionKey') < 0) {\n    return;\n  }\n  Logger.info('i18n label transformer');\n  Logger.info('\\t remediationName: ', remediation.name);\n  Logger.info('\\t uiSchema: ', JSON.stringify(uiSchema));\n  const authenticatorKey = (_remediation$relatesT = remediation.relatesTo) === null || _remediation$relatesT === void 0 ? void 0 : (_remediation$relatesT2 = _remediation$relatesT.value) === null || _remediation$relatesT2 === void 0 ? void 0 : _remediation$relatesT2.key;\n  const authenticatorKeyPath = authenticatorKey ? `.${remediation.relatesTo.value.key}` : '';\n  const i18nPrefix = `${remediation.name}${authenticatorKeyPath}.`;\n  let i18nPath = `${i18nPrefix}${uiSchema.name}`;\n  if (uiSchema.type === 'text' && uiSchema.name.indexOf('questionKey') >= 0 && uiSchema.value !== 'custom') {\n    i18nPath = `${i18nPath}.${uiSchema.value}`;\n  }\n  if (uiSchema.type === 'checkbox' && uiSchema.placeholder) {\n    Logger.info('\\t 1: ', i18nPath);\n    uiSchema.placeholder = getI18NValue(i18nPath, uiSchema.placeholder);\n  }\n  if (uiSchema.label) {\n    Logger.info('\\t 2: ', i18nPath);\n    const params = getI18NParams(remediation, authenticatorKey);\n    uiSchema.label = uiSchema.customLabel ? uiSchema.label : getI18NValue(i18nPath, uiSchema.label, params);\n  }\n  if (oktaJQueryStatic.isPlainObject(uiSchema.options)) {\n    uiSchema.options = oktaUnderscore.mapObject(uiSchema.options, (value, key) => {\n      const i18nPathOption = `${i18nPath}.${key}`;\n      Logger.info('\\t 3: ', i18nPathOption);\n      return getI18NValue(i18nPathOption, value);\n    });\n  }\n  if (Array.isArray(uiSchema.options)) {\n    uiSchema.options.forEach(o => {\n      if (!o.label) {\n        return;\n      }\n      let i18nPathOption;\n      if (o.authenticatorKey) {\n        var _o$value;\n        i18nPathOption = `${i18nPath}.${o.authenticatorKey}`;\n        const methodType = (_o$value = o.value) === null || _o$value === void 0 ? void 0 : _o$value.methodType;\n        if (o.authenticatorKey === AUTHENTICATOR_KEY.OV && methodType) {\n          i18nPathOption = `${i18nPathOption}.${methodType}`;\n        }\n      } else if (typeof o.value === 'string' || typeof o.value === 'number') {\n        // value could be string, number, object or undefined.\n        i18nPathOption = `${i18nPath}.${o.value}`;\n      } else {\n        i18nPathOption = i18nPath;\n      }\n      Logger.info('\\t 4: ', i18nPathOption);\n      o.label = getI18NValue(i18nPathOption, o.label);\n    });\n  }\n  if (Array.isArray(uiSchema.optionsUiSchemas)) {\n    uiSchema.optionsUiSchemas.forEach(optionsUiSchema => {\n      optionsUiSchema.forEach(uiSchema => updateLabelForUiSchema(remediation, uiSchema));\n    });\n  }\n};\nvar i18nTransformer = transformedResp => {\n  var _transformedResp$mess;\n  // Try to override label using i18n value\n  if (Array.isArray(transformedResp.remediations)) {\n    transformedResp.remediations.filter(remediation => Array.isArray(remediation.uiSchema) && remediation.uiSchema.length).forEach(remediation => {\n      remediation.uiSchema.forEach(uiSchema => updateLabelForUiSchema(remediation, uiSchema));\n    });\n  }\n\n  // Try to override `messages` using i18n value.\n  // 1. This is only handling top level `messages` object when response status is 200.\n  // 2. See `IonResponseHelper.js` where handle `messages` object when none 200 response.\n  // 3. Handling `messages` in remediation forms on 200 response is not considered yet.\n  //    Is that possible?\n  if (Array.isArray((_transformedResp$mess = transformedResp.messages) === null || _transformedResp$mess === void 0 ? void 0 : _transformedResp$mess.value)) {\n    transformedResp.messages.value.forEach(message => {\n      message.message = getMessage(message);\n    });\n  }\n  return transformedResp;\n};\nexport { i18nTransformer as default };","map":{"version":3,"names":["oktaJQueryStatic","oktaUnderscore","Logger","AUTHENTICATOR_KEY","getMessage","getI18NValue","getI18NParams","doesI18NKeyExist","getI18nKey","getMessageFromBrowserError","getMessageKey","isCustomizedI18nKey","updateLabelForUiSchema","remediation","uiSchema","_remediation$relatesT","_remediation$relatesT2","mutable","name","indexOf","info","JSON","stringify","authenticatorKey","relatesTo","value","key","authenticatorKeyPath","i18nPrefix","i18nPath","type","placeholder","label","params","customLabel","isPlainObject","options","mapObject","i18nPathOption","Array","isArray","forEach","o","_o$value","methodType","OV","optionsUiSchemas","optionsUiSchema","i18nTransformer","transformedResp","_transformedResp$mess","remediations","filter","length","messages","message","default"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v2/ion/i18nTransformer.js"],"sourcesContent":["import '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport oktaJQueryStatic from '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport Logger from '../../util/Logger.js';\nimport { AUTHENTICATOR_KEY } from './RemediationConstants.js';\nimport { getMessage, getI18NValue, getI18NParams } from './i18nUtils.js';\nexport { doesI18NKeyExist, getI18NParams, getI18NValue, getI18nKey, getMessage, getMessageFromBrowserError, getMessageKey, isCustomizedI18nKey } from './i18nUtils.js';\n\n/* eslint-disable max-len */\nconst updateLabelForUiSchema = (remediation, uiSchema) => {\n  var _remediation$relatesT, _remediation$relatesT2;\n  if (uiSchema.mutable === false && uiSchema.name.indexOf('questionKey') < 0) {\n    return;\n  }\n  Logger.info('i18n label transformer');\n  Logger.info('\\t remediationName: ', remediation.name);\n  Logger.info('\\t uiSchema: ', JSON.stringify(uiSchema));\n  const authenticatorKey = (_remediation$relatesT = remediation.relatesTo) === null || _remediation$relatesT === void 0 ? void 0 : (_remediation$relatesT2 = _remediation$relatesT.value) === null || _remediation$relatesT2 === void 0 ? void 0 : _remediation$relatesT2.key;\n  const authenticatorKeyPath = authenticatorKey ? `.${remediation.relatesTo.value.key}` : '';\n  const i18nPrefix = `${remediation.name}${authenticatorKeyPath}.`;\n  let i18nPath = `${i18nPrefix}${uiSchema.name}`;\n  if (uiSchema.type === 'text' && uiSchema.name.indexOf('questionKey') >= 0 && uiSchema.value !== 'custom') {\n    i18nPath = `${i18nPath}.${uiSchema.value}`;\n  }\n  if (uiSchema.type === 'checkbox' && uiSchema.placeholder) {\n    Logger.info('\\t 1: ', i18nPath);\n    uiSchema.placeholder = getI18NValue(i18nPath, uiSchema.placeholder);\n  }\n  if (uiSchema.label) {\n    Logger.info('\\t 2: ', i18nPath);\n    const params = getI18NParams(remediation, authenticatorKey);\n    uiSchema.label = uiSchema.customLabel ? uiSchema.label : getI18NValue(i18nPath, uiSchema.label, params);\n  }\n  if (oktaJQueryStatic.isPlainObject(uiSchema.options)) {\n    uiSchema.options = oktaUnderscore.mapObject(uiSchema.options, (value, key) => {\n      const i18nPathOption = `${i18nPath}.${key}`;\n      Logger.info('\\t 3: ', i18nPathOption);\n      return getI18NValue(i18nPathOption, value);\n    });\n  }\n  if (Array.isArray(uiSchema.options)) {\n    uiSchema.options.forEach(o => {\n      if (!o.label) {\n        return;\n      }\n      let i18nPathOption;\n      if (o.authenticatorKey) {\n        var _o$value;\n        i18nPathOption = `${i18nPath}.${o.authenticatorKey}`;\n        const methodType = (_o$value = o.value) === null || _o$value === void 0 ? void 0 : _o$value.methodType;\n        if (o.authenticatorKey === AUTHENTICATOR_KEY.OV && methodType) {\n          i18nPathOption = `${i18nPathOption}.${methodType}`;\n        }\n      } else if (typeof o.value === 'string' || typeof o.value === 'number') {\n        // value could be string, number, object or undefined.\n        i18nPathOption = `${i18nPath}.${o.value}`;\n      } else {\n        i18nPathOption = i18nPath;\n      }\n      Logger.info('\\t 4: ', i18nPathOption);\n      o.label = getI18NValue(i18nPathOption, o.label);\n    });\n  }\n  if (Array.isArray(uiSchema.optionsUiSchemas)) {\n    uiSchema.optionsUiSchemas.forEach(optionsUiSchema => {\n      optionsUiSchema.forEach(uiSchema => updateLabelForUiSchema(remediation, uiSchema));\n    });\n  }\n};\nvar i18nTransformer = (transformedResp => {\n  var _transformedResp$mess;\n  // Try to override label using i18n value\n  if (Array.isArray(transformedResp.remediations)) {\n    transformedResp.remediations.filter(remediation => Array.isArray(remediation.uiSchema) && remediation.uiSchema.length).forEach(remediation => {\n      remediation.uiSchema.forEach(uiSchema => updateLabelForUiSchema(remediation, uiSchema));\n    });\n  }\n\n  // Try to override `messages` using i18n value.\n  // 1. This is only handling top level `messages` object when response status is 200.\n  // 2. See `IonResponseHelper.js` where handle `messages` object when none 200 response.\n  // 3. Handling `messages` in remediation forms on 200 response is not considered yet.\n  //    Is that possible?\n  if (Array.isArray((_transformedResp$mess = transformedResp.messages) === null || _transformedResp$mess === void 0 ? void 0 : _transformedResp$mess.value)) {\n    transformedResp.messages.value.forEach(message => {\n      message.message = getMessage(message);\n    });\n  }\n  return transformedResp;\n});\n\nexport { i18nTransformer as default };\n"],"mappings":"AAAA,OAAO,wEAAwE;AAC/E,OAAO,yEAAyE;AAChF,OAAO,6EAA6E;AACpF,OAAOA,gBAAgB,MAAM,6EAA6E;AAC1G,OAAOC,cAAc,MAAM,iFAAiF;AAC5G,OAAO,wFAAwF;AAC/F,OAAO,sEAAsE;AAC7E,OAAO,0EAA0E;AACjF,OAAO,wEAAwE;AAC/E,OAAO,iFAAiF;AACxF,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,iBAAiB,QAAQ,2BAA2B;AAC7D,SAASC,UAAU,EAAEC,YAAY,EAAEC,aAAa,QAAQ,gBAAgB;AACxE,SAASC,gBAAgB,EAAED,aAAa,EAAED,YAAY,EAAEG,UAAU,EAAEJ,UAAU,EAAEK,0BAA0B,EAAEC,aAAa,EAAEC,mBAAmB,QAAQ,gBAAgB;;AAEtK;AACA,MAAMC,sBAAsB,GAAGA,CAACC,WAAW,EAAEC,QAAQ,KAAK;EACxD,IAAIC,qBAAqB,EAAEC,sBAAsB;EACjD,IAAIF,QAAQ,CAACG,OAAO,KAAK,KAAK,IAAIH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;IAC1E;EACF;EACAjB,MAAM,CAACkB,IAAI,CAAC,wBAAwB,CAAC;EACrClB,MAAM,CAACkB,IAAI,CAAC,sBAAsB,EAAEP,WAAW,CAACK,IAAI,CAAC;EACrDhB,MAAM,CAACkB,IAAI,CAAC,eAAe,EAAEC,IAAI,CAACC,SAAS,CAACR,QAAQ,CAAC,CAAC;EACtD,MAAMS,gBAAgB,GAAG,CAACR,qBAAqB,GAAGF,WAAW,CAACW,SAAS,MAAM,IAAI,IAAIT,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,sBAAsB,GAAGD,qBAAqB,CAACU,KAAK,MAAM,IAAI,IAAIT,sBAAsB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,sBAAsB,CAACU,GAAG;EAC3Q,MAAMC,oBAAoB,GAAGJ,gBAAgB,GAAG,IAAIV,WAAW,CAACW,SAAS,CAACC,KAAK,CAACC,GAAG,EAAE,GAAG,EAAE;EAC1F,MAAME,UAAU,GAAG,GAAGf,WAAW,CAACK,IAAI,GAAGS,oBAAoB,GAAG;EAChE,IAAIE,QAAQ,GAAG,GAAGD,UAAU,GAAGd,QAAQ,CAACI,IAAI,EAAE;EAC9C,IAAIJ,QAAQ,CAACgB,IAAI,KAAK,MAAM,IAAIhB,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,IAAIL,QAAQ,CAACW,KAAK,KAAK,QAAQ,EAAE;IACxGI,QAAQ,GAAG,GAAGA,QAAQ,IAAIf,QAAQ,CAACW,KAAK,EAAE;EAC5C;EACA,IAAIX,QAAQ,CAACgB,IAAI,KAAK,UAAU,IAAIhB,QAAQ,CAACiB,WAAW,EAAE;IACxD7B,MAAM,CAACkB,IAAI,CAAC,QAAQ,EAAES,QAAQ,CAAC;IAC/Bf,QAAQ,CAACiB,WAAW,GAAG1B,YAAY,CAACwB,QAAQ,EAAEf,QAAQ,CAACiB,WAAW,CAAC;EACrE;EACA,IAAIjB,QAAQ,CAACkB,KAAK,EAAE;IAClB9B,MAAM,CAACkB,IAAI,CAAC,QAAQ,EAAES,QAAQ,CAAC;IAC/B,MAAMI,MAAM,GAAG3B,aAAa,CAACO,WAAW,EAAEU,gBAAgB,CAAC;IAC3DT,QAAQ,CAACkB,KAAK,GAAGlB,QAAQ,CAACoB,WAAW,GAAGpB,QAAQ,CAACkB,KAAK,GAAG3B,YAAY,CAACwB,QAAQ,EAAEf,QAAQ,CAACkB,KAAK,EAAEC,MAAM,CAAC;EACzG;EACA,IAAIjC,gBAAgB,CAACmC,aAAa,CAACrB,QAAQ,CAACsB,OAAO,CAAC,EAAE;IACpDtB,QAAQ,CAACsB,OAAO,GAAGnC,cAAc,CAACoC,SAAS,CAACvB,QAAQ,CAACsB,OAAO,EAAE,CAACX,KAAK,EAAEC,GAAG,KAAK;MAC5E,MAAMY,cAAc,GAAG,GAAGT,QAAQ,IAAIH,GAAG,EAAE;MAC3CxB,MAAM,CAACkB,IAAI,CAAC,QAAQ,EAAEkB,cAAc,CAAC;MACrC,OAAOjC,YAAY,CAACiC,cAAc,EAAEb,KAAK,CAAC;IAC5C,CAAC,CAAC;EACJ;EACA,IAAIc,KAAK,CAACC,OAAO,CAAC1B,QAAQ,CAACsB,OAAO,CAAC,EAAE;IACnCtB,QAAQ,CAACsB,OAAO,CAACK,OAAO,CAACC,CAAC,IAAI;MAC5B,IAAI,CAACA,CAAC,CAACV,KAAK,EAAE;QACZ;MACF;MACA,IAAIM,cAAc;MAClB,IAAII,CAAC,CAACnB,gBAAgB,EAAE;QACtB,IAAIoB,QAAQ;QACZL,cAAc,GAAG,GAAGT,QAAQ,IAAIa,CAAC,CAACnB,gBAAgB,EAAE;QACpD,MAAMqB,UAAU,GAAG,CAACD,QAAQ,GAAGD,CAAC,CAACjB,KAAK,MAAM,IAAI,IAAIkB,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACC,UAAU;QACtG,IAAIF,CAAC,CAACnB,gBAAgB,KAAKpB,iBAAiB,CAAC0C,EAAE,IAAID,UAAU,EAAE;UAC7DN,cAAc,GAAG,GAAGA,cAAc,IAAIM,UAAU,EAAE;QACpD;MACF,CAAC,MAAM,IAAI,OAAOF,CAAC,CAACjB,KAAK,KAAK,QAAQ,IAAI,OAAOiB,CAAC,CAACjB,KAAK,KAAK,QAAQ,EAAE;QACrE;QACAa,cAAc,GAAG,GAAGT,QAAQ,IAAIa,CAAC,CAACjB,KAAK,EAAE;MAC3C,CAAC,MAAM;QACLa,cAAc,GAAGT,QAAQ;MAC3B;MACA3B,MAAM,CAACkB,IAAI,CAAC,QAAQ,EAAEkB,cAAc,CAAC;MACrCI,CAAC,CAACV,KAAK,GAAG3B,YAAY,CAACiC,cAAc,EAAEI,CAAC,CAACV,KAAK,CAAC;IACjD,CAAC,CAAC;EACJ;EACA,IAAIO,KAAK,CAACC,OAAO,CAAC1B,QAAQ,CAACgC,gBAAgB,CAAC,EAAE;IAC5ChC,QAAQ,CAACgC,gBAAgB,CAACL,OAAO,CAACM,eAAe,IAAI;MACnDA,eAAe,CAACN,OAAO,CAAC3B,QAAQ,IAAIF,sBAAsB,CAACC,WAAW,EAAEC,QAAQ,CAAC,CAAC;IACpF,CAAC,CAAC;EACJ;AACF,CAAC;AACD,IAAIkC,eAAe,GAAIC,eAAe,IAAI;EACxC,IAAIC,qBAAqB;EACzB;EACA,IAAIX,KAAK,CAACC,OAAO,CAACS,eAAe,CAACE,YAAY,CAAC,EAAE;IAC/CF,eAAe,CAACE,YAAY,CAACC,MAAM,CAACvC,WAAW,IAAI0B,KAAK,CAACC,OAAO,CAAC3B,WAAW,CAACC,QAAQ,CAAC,IAAID,WAAW,CAACC,QAAQ,CAACuC,MAAM,CAAC,CAACZ,OAAO,CAAC5B,WAAW,IAAI;MAC5IA,WAAW,CAACC,QAAQ,CAAC2B,OAAO,CAAC3B,QAAQ,IAAIF,sBAAsB,CAACC,WAAW,EAAEC,QAAQ,CAAC,CAAC;IACzF,CAAC,CAAC;EACJ;;EAEA;EACA;EACA;EACA;EACA;EACA,IAAIyB,KAAK,CAACC,OAAO,CAAC,CAACU,qBAAqB,GAAGD,eAAe,CAACK,QAAQ,MAAM,IAAI,IAAIJ,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACzB,KAAK,CAAC,EAAE;IACzJwB,eAAe,CAACK,QAAQ,CAAC7B,KAAK,CAACgB,OAAO,CAACc,OAAO,IAAI;MAChDA,OAAO,CAACA,OAAO,GAAGnD,UAAU,CAACmD,OAAO,CAAC;IACvC,CAAC,CAAC;EACJ;EACA,OAAON,eAAe;AACxB,CAAE;AAEF,SAASD,eAAe,IAAIQ,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}