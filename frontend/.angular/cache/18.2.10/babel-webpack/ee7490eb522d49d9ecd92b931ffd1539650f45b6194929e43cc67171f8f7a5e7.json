{"ast":null,"code":"import _Handlebars2 from '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport { loc } from '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport oktaJQueryStatic from '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport Model from '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport Factor from './Factor.js';\nimport Q from 'q';\nimport fn from '../../util/BrowserFeatures.js';\nimport { UnsupportedBrowserError } from '../../util/Errors.js';\nconst DEFAULT_APP_LOGO = '/img/logos/default.png';\n\n// Keep track of stateMachine with this special model. Some reasons to not\n// keep it generic:\n// 1. We know exactly what we're using appState for by requiring props\n// 2. Can have some derived functions to help us translate the lastAuthRes\n\nconst USER_NOT_SEEN_ON_DEVICE = '/img/security/unknown.png';\nconst UNDEFINED_USER = '/img/security/default.png';\nconst NEW_USER = '/img/security/unknown-device.png';\nconst NEW_USER_IMAGE_DESCRIPTION = '';\nconst UNDEFINED_USER_IMAGE_DESCRIPTION = '';\nconst UNKNOWN_IMAGE_DESCRIPTION = '';\nconst securityImageUrlTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      alias1 = depth0 != null ? depth0 : container.nullContext || {},\n      alias2 = container.hooks.helperMissing,\n      alias3 = \"function\",\n      alias4 = container.escapeExpression,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return alias4((helper = (helper = lookupProperty(helpers, \"baseUrl\") || (depth0 != null ? lookupProperty(depth0, \"baseUrl\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"baseUrl\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 11\n        }\n      }\n    }) : helper)) + \"/login/getimage?username=\" + alias4((helper = (helper = lookupProperty(helpers, \"username\") || (depth0 != null ? lookupProperty(depth0, \"username\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"username\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 36\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 48\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\nfunction getSecurityImage(baseUrl, username, deviceFingerprint) {\n  // When the username is empty, we want to show the default image.\n  if (oktaUnderscore.isEmpty(username) || oktaUnderscore.isUndefined(username)) {\n    return Q({\n      securityImage: UNDEFINED_USER,\n      securityImageDescription: UNDEFINED_USER_IMAGE_DESCRIPTION\n    });\n  }\n\n  // Reserved characters in the username must be escaped before the query can be safely executed\n  username = encodeURIComponent(username);\n  const url = securityImageUrlTpl({\n    baseUrl: baseUrl,\n    username: username\n  });\n  const data = {\n    url: url,\n    dataType: 'json'\n  };\n  if (deviceFingerprint) {\n    data['headers'] = {\n      'X-Device-Fingerprint': deviceFingerprint\n    };\n  }\n  return Q(oktaJQueryStatic.ajax(data)).then(function (res) {\n    if (res.pwdImg === USER_NOT_SEEN_ON_DEVICE) {\n      // When we get an unknown.png security image from OKTA,\n      // we want to show the unknown-device security image.\n      // We are mapping the server's img url to a new one because\n      // we still need to support the original login page.\n      return {\n        securityImage: NEW_USER,\n        securityImageDescription: NEW_USER_IMAGE_DESCRIPTION\n      };\n    }\n    return {\n      securityImage: res.pwdImg,\n      securityImageDescription: res.imageDescription || UNKNOWN_IMAGE_DESCRIPTION\n    };\n  });\n}\nfunction getMinutesString(factorLifetimeInMinutes) {\n  if (factorLifetimeInMinutes > 60 && factorLifetimeInMinutes <= 1440) {\n    const lifetimeInHours = factorLifetimeInMinutes / 60;\n    return loc('hours', 'login', [lifetimeInHours]);\n  } else if (factorLifetimeInMinutes > 1440) {\n    const lifetimeInDays = factorLifetimeInMinutes / 1440;\n    return loc('days', 'login', [lifetimeInDays]);\n  }\n  //Use minutes as the time unit by default\n  if (factorLifetimeInMinutes === 1) {\n    return loc('minutes.oneMinute', 'login');\n  }\n  return loc('minutes', 'login', [factorLifetimeInMinutes]);\n}\nfunction getGracePeriodRemainingDays(gracePeriodEndDate) {\n  const endDate = new Date(gracePeriodEndDate).getTime();\n  const remainingDays = Math.floor((endDate - new Date().getTime()) / (1000 * 3600 * 24));\n  return remainingDays;\n}\nfunction combineFactorsObjects(factorTypes, factors) {\n  const addedFactorTypes = [];\n  const combinedFactors = [];\n  oktaUnderscore.each(factors, function (factor) {\n    const factorType = factor.factorType;\n    if (!oktaUnderscore.contains(addedFactorTypes, factorType)) {\n      const factorTypeObj = oktaUnderscore.findWhere(factorTypes, {\n        factorType: factorType\n      });\n      if (factorTypeObj) {\n        addedFactorTypes.push(factorType);\n        combinedFactors.push(factorTypeObj);\n      } else {\n        combinedFactors.push(factor);\n      }\n    }\n  });\n  return combinedFactors;\n}\nvar AppState = Model.extend({\n  initialize: function () {\n    // Handle this in initialize (as opposed to a derived property) because\n    // the operation is asynchronous\n    if (this.settings.get('features.securityImage')) {\n      const self = this;\n      this.listenTo(this, 'change:username', function (model, username) {\n        getSecurityImage(this.get('baseUrl'), username, this.get('deviceFingerprint')).then(function (image) {\n          model.set('securityImage', image.securityImage);\n          model.set('securityImageDescription', image.securityImageDescription);\n          model.unset('deviceFingerprint'); //Fingerprint can only be used once\n        }).fail(function (jqXhr) {\n          // Only notify the consumer on a CORS error\n          if (fn.corsIsNotEnabled(jqXhr)) {\n            self.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n          } else {\n            self.settings.callGlobalError(new Error(`Failed to fetch security image: ${jqXhr.statusText}`));\n          }\n        }).done();\n      });\n    }\n  },\n  local: {\n    baseUrl: 'string',\n    lastAuthResponse: ['object', true, {}],\n    transaction: 'object',\n    transactionError: 'object',\n    username: 'string',\n    factors: 'object',\n    policy: 'object',\n    securityImage: ['string', true, UNDEFINED_USER],\n    securityImageDescription: ['string', true, UNDEFINED_USER_IMAGE_DESCRIPTION],\n    userCountryCode: 'string',\n    userPhoneNumber: 'string',\n    factorActivationType: 'string',\n    flashError: 'object',\n    beaconType: 'string',\n    deviceFingerprint: 'string',\n    // valid only once\n    typingPattern: 'string',\n    // Note: languageCode is special in that it is shared between Settings\n    // and AppState. Settings is the *configured* language, and is static.\n    // AppState is the dynamic language state - it can be changed via a\n    // language picker, etc.\n    // Note: this is conceptial feasible but not yet being implemented.\n    languageCode: ['string', true],\n    disableUsername: ['boolean', false, false],\n    trapMfaRequiredResponse: ['boolean', false, false],\n    lastFailedChallengeFactorData: ['object', false]\n  },\n  setAuthResponse: function (res) {\n    // Because of MFA_CHALLENGE (i.e. DUO), we need to remember factors\n    // across auth responses. Not doing this, for example, results in being\n    // unable to switch away from the duo factor dropdown.\n    if (res._embedded && res._embedded.policy) {\n      this.set('policy', res._embedded.policy);\n    }\n    if (res._embedded && res._embedded.factors) {\n      let factors = res._embedded.factors;\n      if (res._embedded.factorTypes) {\n        factors = combineFactorsObjects(res._embedded.factorTypes, factors);\n      }\n      const factorsObject = oktaUnderscore.map(factors, factor => {\n        factor.settings = this.settings;\n        factor.appState = this;\n        return factor;\n      });\n      this.set('factors', new Factor.Collection(factorsObject, {\n        parse: true\n      }));\n    }\n    this.set('lastAuthResponse', res);\n  },\n  clearLastAuthResponse: function () {\n    this.set('lastAuthResponse', {});\n  },\n  setLastFailedChallengeFactorData: function () {\n    this.set('lastFailedChallengeFactorData', {\n      factor: this.get('factor'),\n      errorMessage: this.get('factorResultErrorMessage')\n    });\n  },\n  clearLastFailedChallengeFactorData: function () {\n    this.unset('lastFailedChallengeFactorData');\n  },\n  getUser: function () {\n    return this.get('user');\n  },\n  derived: {\n    isSuccessResponse: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'SUCCESS';\n      }\n    },\n    isMfaRequired: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'MFA_REQUIRED' || res.status === 'FACTOR_REQUIRED';\n      }\n    },\n    isProfileRequired: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'PROFILE_REQUIRED';\n      }\n    },\n    isMfaEnroll: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL';\n      }\n    },\n    isMfaChallenge: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'MFA_CHALLENGE' || res.status === 'FACTOR_CHALLENGE';\n      }\n    },\n    isSMSPasswordRecovery: {\n      deps: ['lastAuthResponse'],\n      fn: function ({\n        status: status,\n        factorType: factorType,\n        recoveryType: recoveryType\n      }) {\n        return status === 'RECOVERY_CHALLENGE' && (factorType === null || factorType === void 0 ? void 0 : factorType.toLowerCase()) === 'sms' && (recoveryType === null || recoveryType === void 0 ? void 0 : recoveryType.toLowerCase()) === 'password';\n      }\n    },\n    isUnauthenticated: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'UNAUTHENTICATED';\n      }\n    },\n    isMfaRejected: {\n      // MFA failures are usually error responses\n      // except in the case of Okta Push, when a\n      // user clicks 'deny' on his phone or OV app\n      // version is below a required version no.\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.factorResult === 'REJECTED';\n      }\n    },\n    isMfaTimeout: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.factorResult === 'TIMEOUT';\n      }\n    },\n    isMfaEnrollActivate: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'MFA_ENROLL_ACTIVATE' || res.status === 'FACTOR_ENROLL_ACTIVATE';\n      }\n    },\n    isWaitingForActivation: {\n      deps: ['isMfaEnrollActivate', 'lastAuthResponse'],\n      fn: function (isMfaEnrollActivate, res) {\n        return isMfaEnrollActivate && res.factorResult === 'WAITING';\n      }\n    },\n    isWaitingForNumberChallenge: {\n      deps: ['lastAuthResponse', 'isMfaChallenge'],\n      fn: function (res, isMfaChallenge) {\n        if (isMfaChallenge && res && res.factorResult === 'WAITING' && res._embedded && res._embedded.factor && res._embedded.factor._embedded && res._embedded.factor._embedded.challenge) {\n          return true;\n        }\n        return false;\n      }\n    },\n    hasMultipleFactorsAvailable: {\n      deps: ['factors', 'isMfaRequired', 'isMfaChallenge', 'isUnauthenticated'],\n      fn: function (factors, isMfaRequired, isMfaChallenge, isUnauthenticated) {\n        if (!isMfaRequired && !isMfaChallenge && !isUnauthenticated) {\n          return false;\n        }\n        return factors && factors.length > 1;\n      }\n    },\n    promptForFactorInUnauthenticated: {\n      deps: ['lastAuthResponse', 'factors'],\n      fn: function (res, factors) {\n        if (res.status !== 'UNAUTHENTICATED') {\n          return false;\n        }\n        return factors && factors.length > 0;\n      }\n    },\n    userId: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.user) {\n          return null;\n        }\n        return res._embedded.user.id;\n      }\n    },\n    isIdxStateToken: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res && oktaUnderscore.isString(res.stateToken) && res.stateToken.startsWith('01');\n      }\n    },\n    isPwdExpiringSoon: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'PASSWORD_WARN';\n      }\n    },\n    passwordExpireDays: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.policy || !res._embedded.policy.expiration) {\n          return null;\n        }\n        return res._embedded.policy.expiration.passwordExpireDays;\n      }\n    },\n    isPwdManagedByOkta: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || !res._links.next.title) {\n          return true;\n        }\n        return false;\n      }\n    },\n    passwordExpiredWebsiteName: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || !res._links.next.title) {\n          return null;\n        }\n        return res._links.next.title;\n      }\n    },\n    passwordExpiredLinkUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || !res._links.next.title || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      }\n    },\n    recoveryType: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.recoveryType;\n      }\n    },\n    factorType: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.factorType;\n      }\n    },\n    factor: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.factor) {\n          return null;\n        }\n        return res._embedded.factor;\n      }\n    },\n    activatedFactorId: {\n      deps: ['factor'],\n      fn: function (factor) {\n        return factor ? factor.id : null;\n      }\n    },\n    activatedFactorType: {\n      deps: ['factor'],\n      fn: function (factor) {\n        return factor ? factor.factorType : null;\n      }\n    },\n    activatedFactorProvider: {\n      deps: ['factor'],\n      fn: function (factor) {\n        return factor ? factor.provider : null;\n      }\n    },\n    qrcode: {\n      deps: ['factor'],\n      fn: function (factor) {\n        try {\n          return factor._embedded.activation._links.qrcode.href;\n        } catch (err) {\n          return null;\n        }\n      }\n    },\n    activationSendLinks: {\n      deps: ['factor'],\n      fn: function (factor) {\n        let sendLinks;\n        try {\n          sendLinks = factor._embedded.activation._links.send;\n        } catch (err) {\n          sendLinks = [];\n        }\n        return sendLinks;\n      }\n    },\n    textActivationLinkUrl: {\n      deps: ['activationSendLinks'],\n      fn: function (activationSendLinks) {\n        const item = oktaUnderscore.findWhere(activationSendLinks, {\n          name: 'sms'\n        });\n        return item ? item.href : null;\n      }\n    },\n    emailActivationLinkUrl: {\n      deps: ['activationSendLinks'],\n      fn: function (activationSendLinks) {\n        const item = oktaUnderscore.findWhere(activationSendLinks, {\n          name: 'email'\n        });\n        return item ? item.href : null;\n      }\n    },\n    sharedSecret: {\n      deps: ['factor'],\n      fn: function (factor) {\n        try {\n          return factor._embedded.activation.sharedSecret;\n        } catch (err) {\n          return null;\n        }\n      }\n    },\n    duoEnrollActivation: {\n      deps: ['factor'],\n      fn: function (factor) {\n        if (!factor || !factor._embedded || !factor._embedded.activation) {\n          return null;\n        }\n        return factor._embedded.activation;\n      }\n    },\n    prevLink: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (res._links && res._links.prev) {\n          return res._links.prev.href;\n        }\n        return null;\n      }\n    },\n    skipLink: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (res._links && res._links.skip) {\n          return res._links.skip.href;\n        }\n        return null;\n      }\n    },\n    gracePeriodRemainingDays: {\n      deps: ['policy'],\n      fn: function (policy) {\n        if (policy && policy.gracePeriod && policy.gracePeriod.endDate) {\n          return getGracePeriodRemainingDays(policy.gracePeriod.endDate);\n        }\n        return null;\n      }\n    },\n    user: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.user) {\n          return null;\n        }\n        return res._embedded.user;\n      }\n    },\n    recoveryQuestion: {\n      deps: ['user'],\n      fn: function (user) {\n        if (!user || !user.recovery_question) {\n          return null;\n        }\n        return user.recovery_question.question;\n      }\n    },\n    userProfile: {\n      deps: ['user'],\n      fn: function (user) {\n        if (!user || !user.profile) {\n          return null;\n        }\n        return user.profile;\n      }\n    },\n    userConsentName: {\n      deps: ['userProfile', 'username'],\n      fn: function (userProfile, username) {\n        if (!userProfile || oktaUnderscore.isEmpty(userProfile.firstName)) {\n          return username;\n        }\n        if (oktaUnderscore.isEmpty(userProfile.lastName)) {\n          return userProfile.firstName;\n        }\n        return userProfile.firstName + ' ' + userProfile.lastName.charAt(0) + '.';\n      }\n    },\n    userEmail: {\n      deps: ['userProfile'],\n      fn: function (userProfile) {\n        if (!userProfile || !userProfile.login) {\n          return null;\n        }\n        return userProfile.login;\n      }\n    },\n    userFullName: {\n      deps: ['userProfile'],\n      fn: function (userProfile) {\n        if (!userProfile || !userProfile.firstName && !userProfile.lastName) {\n          return '';\n        }\n        return userProfile.firstName + ' ' + userProfile.lastName;\n      }\n    },\n    defaultAppLogo: {\n      deps: ['baseUrl'],\n      fn: function (baseUrl) {\n        return baseUrl + DEFAULT_APP_LOGO;\n      }\n    },\n    expiresAt: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.expiresAt;\n      }\n    },\n    target: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.target;\n      }\n    },\n    targetLabel: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target) {\n          return null;\n        }\n        return target.label;\n      }\n    },\n    targetLogo: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links.logo;\n      }\n    },\n    targetTermsOfService: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['terms-of-service'];\n      }\n    },\n    targetPrivacyPolicy: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['privacy-policy'];\n      }\n    },\n    targetClientURI: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['client-uri'];\n      }\n    },\n    scopes: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.scopes;\n      }\n    },\n    issuer: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        var _res$_embedded, _res$_embedded$authen, _res$_embedded$authen2;\n        return res === null || res === void 0 ? void 0 : (_res$_embedded = res._embedded) === null || _res$_embedded === void 0 ? void 0 : (_res$_embedded$authen = _res$_embedded.authentication) === null || _res$_embedded$authen === void 0 ? void 0 : (_res$_embedded$authen2 = _res$_embedded$authen.issuer) === null || _res$_embedded$authen2 === void 0 ? void 0 : _res$_embedded$authen2.uri;\n      }\n    },\n    hasExistingPhones: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.factors) {\n          return false;\n        }\n        const factors = res._embedded.factors;\n        const factor = oktaUnderscore.findWhere(factors, {\n          factorType: 'sms',\n          provider: 'OKTA'\n        });\n        if (!factor || !factor._embedded) {\n          return false;\n        }\n        return !!factor._embedded.phones.length;\n      }\n    },\n    hasExistingPhonesForCall: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.factors) {\n          return false;\n        }\n        const factors = res._embedded.factors;\n        const factor = oktaUnderscore.findWhere(factors, {\n          factorType: 'call',\n          provider: 'OKTA'\n        });\n        if (!factor || !factor._embedded) {\n          return false;\n        }\n        return !!factor._embedded.phones.length;\n      }\n    },\n    isUndefinedUser: {\n      deps: ['securityImage'],\n      fn: function (securityImage) {\n        return securityImage === UNDEFINED_USER;\n      }\n    },\n    isNewUser: {\n      deps: ['securityImage'],\n      fn: function (securityImage) {\n        return securityImage === NEW_USER;\n      }\n    },\n    allowRememberDevice: {\n      deps: ['policy'],\n      fn: function (policy) {\n        return policy && policy.allowRememberDevice;\n      }\n    },\n    rememberDeviceLabel: {\n      deps: ['policy'],\n      fn: function (policy) {\n        if (policy && policy.rememberDeviceLifetimeInMinutes > 0) {\n          const timeString = getMinutesString(policy.rememberDeviceLifetimeInMinutes);\n          return loc('rememberDevice.timebased', 'login', [timeString]);\n        } else if (policy && policy.rememberDeviceLifetimeInMinutes === 0) {\n          return loc('rememberDevice.devicebased', 'login');\n        }\n        return loc('rememberDevice', 'login');\n      }\n    },\n    rememberDeviceByDefault: {\n      deps: ['policy'],\n      fn: function (policy) {\n        return policy && policy.rememberDeviceByDefault;\n      }\n    },\n    factorsPolicyInfo: {\n      deps: ['policy'],\n      fn: function (policy) {\n        return policy && policy.factorsPolicyInfo ? policy.factorsPolicyInfo : null;\n      }\n    },\n    verifyCustomFactorRedirectUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || res._links.next.name !== 'redirect' || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      }\n    },\n    enrollCustomFactorRedirectUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || res._links.next.name !== 'activate' || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      }\n    },\n    isFactorResultFailed: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.factorResult === 'FAILED';\n      }\n    },\n    factorResultErrorMessage: {\n      deps: ['lastAuthResponse', 'isFactorResultFailed'],\n      fn: function (res, isFactorResultFailed) {\n        if (isFactorResultFailed) {\n          return res.factorResultMessage || loc('oform.error.unexpected', 'login');\n        }\n        return null;\n      }\n    },\n    deviceActivationStatus: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.deviceActivationStatus;\n      }\n    },\n    usingDeviceFlow: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return !!(res._embedded && res._embedded.usingDeviceFlow);\n      }\n    },\n    userCode: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        var _res$_embedded2;\n        return res === null || res === void 0 ? void 0 : (_res$_embedded2 = res._embedded) === null || _res$_embedded2 === void 0 ? void 0 : _res$_embedded2.userCode;\n      }\n    }\n  },\n  parse: function (options) {\n    this.settings = options.settings;\n    return oktaUnderscore.extend(oktaUnderscore.omit(options, 'settings'), {\n      languageCode: this.settings.get('languageCode'),\n      userCountryCode: this.settings.get('countryCode')\n    });\n  }\n});\nexport { AppState as default };","map":{"version":3,"names":["_Handlebars2","loc","oktaJQueryStatic","oktaUnderscore","Model","Factor","Q","fn","UnsupportedBrowserError","DEFAULT_APP_LOGO","USER_NOT_SEEN_ON_DEVICE","UNDEFINED_USER","NEW_USER","NEW_USER_IMAGE_DESCRIPTION","UNDEFINED_USER_IMAGE_DESCRIPTION","UNKNOWN_IMAGE_DESCRIPTION","securityImageUrlTpl","template","main","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","undefined","getSecurityImage","baseUrl","username","deviceFingerprint","isEmpty","isUndefined","securityImage","securityImageDescription","encodeURIComponent","url","dataType","ajax","then","res","pwdImg","imageDescription","getMinutesString","factorLifetimeInMinutes","lifetimeInHours","lifetimeInDays","getGracePeriodRemainingDays","gracePeriodEndDate","endDate","Date","getTime","remainingDays","Math","floor","combineFactorsObjects","factorTypes","factors","addedFactorTypes","combinedFactors","each","factor","factorType","contains","factorTypeObj","findWhere","push","AppState","extend","initialize","settings","get","self","listenTo","model","image","set","unset","fail","jqXhr","corsIsNotEnabled","callGlobalError","Error","statusText","done","local","lastAuthResponse","transaction","transactionError","policy","userCountryCode","userPhoneNumber","factorActivationType","flashError","beaconType","typingPattern","languageCode","disableUsername","trapMfaRequiredResponse","lastFailedChallengeFactorData","setAuthResponse","_embedded","factorsObject","map","appState","Collection","parse","clearLastAuthResponse","setLastFailedChallengeFactorData","errorMessage","clearLastFailedChallengeFactorData","getUser","derived","isSuccessResponse","deps","status","isMfaRequired","isProfileRequired","isMfaEnroll","isMfaChallenge","isSMSPasswordRecovery","recoveryType","toLowerCase","isUnauthenticated","isMfaRejected","factorResult","isMfaTimeout","isMfaEnrollActivate","isWaitingForActivation","isWaitingForNumberChallenge","challenge","hasMultipleFactorsAvailable","length","promptForFactorInUnauthenticated","userId","user","id","isIdxStateToken","isString","stateToken","startsWith","isPwdExpiringSoon","passwordExpireDays","expiration","isPwdManagedByOkta","_links","next","title","passwordExpiredWebsiteName","passwordExpiredLinkUrl","href","activatedFactorId","activatedFactorType","activatedFactorProvider","provider","qrcode","activation","err","activationSendLinks","sendLinks","send","textActivationLinkUrl","item","name","emailActivationLinkUrl","sharedSecret","duoEnrollActivation","prevLink","prev","skipLink","skip","gracePeriodRemainingDays","gracePeriod","recoveryQuestion","recovery_question","question","userProfile","profile","userConsentName","firstName","lastName","charAt","userEmail","login","userFullName","defaultAppLogo","expiresAt","target","targetLabel","label","targetLogo","logo","targetTermsOfService","targetPrivacyPolicy","targetClientURI","scopes","issuer","_res$_embedded","_res$_embedded$authen","_res$_embedded$authen2","authentication","uri","hasExistingPhones","phones","hasExistingPhonesForCall","isUndefinedUser","isNewUser","allowRememberDevice","rememberDeviceLabel","rememberDeviceLifetimeInMinutes","timeString","rememberDeviceByDefault","factorsPolicyInfo","verifyCustomFactorRedirectUrl","enrollCustomFactorRedirectUrl","isFactorResultFailed","factorResultErrorMessage","factorResultMessage","deviceActivationStatus","usingDeviceFlow","userCode","_res$_embedded2","options","omit","default"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/v1/models/AppState.js"],"sourcesContent":["import _Handlebars2 from '../../../packages/@okta/courage-dist/esm/lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport { loc } from '../../../packages/@okta/courage-dist/esm/src/CourageForSigninWidget.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/vendor/lib/backbone.js';\nimport oktaJQueryStatic from '../../../packages/@okta/courage-dist/esm/src/courage/util/jquery-wrapper.js';\nimport oktaUnderscore from '../../../packages/@okta/courage-dist/esm/src/courage/util/underscore-wrapper.js';\nimport Model from '../../../packages/@okta/courage-dist/esm/src/courage/models/Model.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/models/BaseModel.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/framework/View.js';\nimport '../../../packages/@okta/courage-dist/esm/src/courage/views/Backbone.ListView.js';\nimport Factor from './Factor.js';\nimport Q from 'q';\nimport fn from '../../util/BrowserFeatures.js';\nimport { UnsupportedBrowserError } from '../../util/Errors.js';\n\nconst DEFAULT_APP_LOGO = '/img/logos/default.png';\n\n// Keep track of stateMachine with this special model. Some reasons to not\n// keep it generic:\n// 1. We know exactly what we're using appState for by requiring props\n// 2. Can have some derived functions to help us translate the lastAuthRes\n\nconst USER_NOT_SEEN_ON_DEVICE = '/img/security/unknown.png';\nconst UNDEFINED_USER = '/img/security/default.png';\nconst NEW_USER = '/img/security/unknown-device.png';\nconst NEW_USER_IMAGE_DESCRIPTION = '';\nconst UNDEFINED_USER_IMAGE_DESCRIPTION = '';\nconst UNKNOWN_IMAGE_DESCRIPTION = '';\nconst securityImageUrlTpl = _Handlebars2.template({\n  \"compiler\": [8, \">= 4.3.0\"],\n  \"main\": function (container, depth0, helpers, partials, data) {\n    var helper,\n      alias1 = depth0 != null ? depth0 : container.nullContext || {},\n      alias2 = container.hooks.helperMissing,\n      alias3 = \"function\",\n      alias4 = container.escapeExpression,\n      lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined;\n      };\n    return alias4((helper = (helper = lookupProperty(helpers, \"baseUrl\") || (depth0 != null ? lookupProperty(depth0, \"baseUrl\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"baseUrl\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 0\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 11\n        }\n      }\n    }) : helper)) + \"/login/getimage?username=\" + alias4((helper = (helper = lookupProperty(helpers, \"username\") || (depth0 != null ? lookupProperty(depth0, \"username\") : depth0)) != null ? helper : alias2, typeof helper === alias3 ? helper.call(alias1, {\n      \"name\": \"username\",\n      \"hash\": {},\n      \"data\": data,\n      \"loc\": {\n        \"start\": {\n          \"line\": 1,\n          \"column\": 36\n        },\n        \"end\": {\n          \"line\": 1,\n          \"column\": 48\n        }\n      }\n    }) : helper));\n  },\n  \"useData\": true\n});\nfunction getSecurityImage(baseUrl, username, deviceFingerprint) {\n  // When the username is empty, we want to show the default image.\n  if (oktaUnderscore.isEmpty(username) || oktaUnderscore.isUndefined(username)) {\n    return Q({\n      securityImage: UNDEFINED_USER,\n      securityImageDescription: UNDEFINED_USER_IMAGE_DESCRIPTION\n    });\n  }\n\n  // Reserved characters in the username must be escaped before the query can be safely executed\n  username = encodeURIComponent(username);\n  const url = securityImageUrlTpl({\n    baseUrl: baseUrl,\n    username: username\n  });\n  const data = {\n    url: url,\n    dataType: 'json'\n  };\n  if (deviceFingerprint) {\n    data['headers'] = {\n      'X-Device-Fingerprint': deviceFingerprint\n    };\n  }\n  return Q(oktaJQueryStatic.ajax(data)).then(function (res) {\n    if (res.pwdImg === USER_NOT_SEEN_ON_DEVICE) {\n      // When we get an unknown.png security image from OKTA,\n      // we want to show the unknown-device security image.\n      // We are mapping the server's img url to a new one because\n      // we still need to support the original login page.\n      return {\n        securityImage: NEW_USER,\n        securityImageDescription: NEW_USER_IMAGE_DESCRIPTION\n      };\n    }\n    return {\n      securityImage: res.pwdImg,\n      securityImageDescription: res.imageDescription || UNKNOWN_IMAGE_DESCRIPTION\n    };\n  });\n}\nfunction getMinutesString(factorLifetimeInMinutes) {\n  if (factorLifetimeInMinutes > 60 && factorLifetimeInMinutes <= 1440) {\n    const lifetimeInHours = factorLifetimeInMinutes / 60;\n    return loc('hours', 'login', [lifetimeInHours]);\n  } else if (factorLifetimeInMinutes > 1440) {\n    const lifetimeInDays = factorLifetimeInMinutes / 1440;\n    return loc('days', 'login', [lifetimeInDays]);\n  }\n  //Use minutes as the time unit by default\n  if (factorLifetimeInMinutes === 1) {\n    return loc('minutes.oneMinute', 'login');\n  }\n  return loc('minutes', 'login', [factorLifetimeInMinutes]);\n}\nfunction getGracePeriodRemainingDays(gracePeriodEndDate) {\n  const endDate = new Date(gracePeriodEndDate).getTime();\n  const remainingDays = Math.floor((endDate - new Date().getTime()) / (1000 * 3600 * 24));\n  return remainingDays;\n}\nfunction combineFactorsObjects(factorTypes, factors) {\n  const addedFactorTypes = [];\n  const combinedFactors = [];\n  oktaUnderscore.each(factors, function (factor) {\n    const factorType = factor.factorType;\n    if (!oktaUnderscore.contains(addedFactorTypes, factorType)) {\n      const factorTypeObj = oktaUnderscore.findWhere(factorTypes, {\n        factorType: factorType\n      });\n      if (factorTypeObj) {\n        addedFactorTypes.push(factorType);\n        combinedFactors.push(factorTypeObj);\n      } else {\n        combinedFactors.push(factor);\n      }\n    }\n  });\n  return combinedFactors;\n}\nvar AppState = Model.extend({\n  initialize: function () {\n    // Handle this in initialize (as opposed to a derived property) because\n    // the operation is asynchronous\n    if (this.settings.get('features.securityImage')) {\n      const self = this;\n      this.listenTo(this, 'change:username', function (model, username) {\n        getSecurityImage(this.get('baseUrl'), username, this.get('deviceFingerprint')).then(function (image) {\n          model.set('securityImage', image.securityImage);\n          model.set('securityImageDescription', image.securityImageDescription);\n          model.unset('deviceFingerprint'); //Fingerprint can only be used once\n        }).fail(function (jqXhr) {\n          // Only notify the consumer on a CORS error\n          if (fn.corsIsNotEnabled(jqXhr)) {\n            self.settings.callGlobalError(new UnsupportedBrowserError(loc('error.enabled.cors')));\n          } else {\n            self.settings.callGlobalError(new Error(`Failed to fetch security image: ${jqXhr.statusText}`));\n          }\n        }).done();\n      });\n    }\n  },\n  local: {\n    baseUrl: 'string',\n    lastAuthResponse: ['object', true, {}],\n    transaction: 'object',\n    transactionError: 'object',\n    username: 'string',\n    factors: 'object',\n    policy: 'object',\n    securityImage: ['string', true, UNDEFINED_USER],\n    securityImageDescription: ['string', true, UNDEFINED_USER_IMAGE_DESCRIPTION],\n    userCountryCode: 'string',\n    userPhoneNumber: 'string',\n    factorActivationType: 'string',\n    flashError: 'object',\n    beaconType: 'string',\n    deviceFingerprint: 'string',\n    // valid only once\n    typingPattern: 'string',\n    // Note: languageCode is special in that it is shared between Settings\n    // and AppState. Settings is the *configured* language, and is static.\n    // AppState is the dynamic language state - it can be changed via a\n    // language picker, etc.\n    // Note: this is conceptial feasible but not yet being implemented.\n    languageCode: ['string', true],\n    disableUsername: ['boolean', false, false],\n    trapMfaRequiredResponse: ['boolean', false, false],\n    lastFailedChallengeFactorData: ['object', false]\n  },\n  setAuthResponse: function (res) {\n    // Because of MFA_CHALLENGE (i.e. DUO), we need to remember factors\n    // across auth responses. Not doing this, for example, results in being\n    // unable to switch away from the duo factor dropdown.\n    if (res._embedded && res._embedded.policy) {\n      this.set('policy', res._embedded.policy);\n    }\n    if (res._embedded && res._embedded.factors) {\n      let factors = res._embedded.factors;\n      if (res._embedded.factorTypes) {\n        factors = combineFactorsObjects(res._embedded.factorTypes, factors);\n      }\n      const factorsObject = oktaUnderscore.map(factors, factor => {\n        factor.settings = this.settings;\n        factor.appState = this;\n        return factor;\n      });\n      this.set('factors', new Factor.Collection(factorsObject, {\n        parse: true\n      }));\n    }\n    this.set('lastAuthResponse', res);\n  },\n  clearLastAuthResponse: function () {\n    this.set('lastAuthResponse', {});\n  },\n  setLastFailedChallengeFactorData: function () {\n    this.set('lastFailedChallengeFactorData', {\n      factor: this.get('factor'),\n      errorMessage: this.get('factorResultErrorMessage')\n    });\n  },\n  clearLastFailedChallengeFactorData: function () {\n    this.unset('lastFailedChallengeFactorData');\n  },\n  getUser: function () {\n    return this.get('user');\n  },\n  derived: {\n    isSuccessResponse: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'SUCCESS';\n      }\n    },\n    isMfaRequired: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'MFA_REQUIRED' || res.status === 'FACTOR_REQUIRED';\n      }\n    },\n    isProfileRequired: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'PROFILE_REQUIRED';\n      }\n    },\n    isMfaEnroll: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'MFA_ENROLL' || res.status === 'FACTOR_ENROLL';\n      }\n    },\n    isMfaChallenge: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'MFA_CHALLENGE' || res.status === 'FACTOR_CHALLENGE';\n      }\n    },\n    isSMSPasswordRecovery: {\n      deps: ['lastAuthResponse'],\n      fn: function ({\n        status: status,\n        factorType: factorType,\n        recoveryType: recoveryType\n      }) {\n        return status === 'RECOVERY_CHALLENGE' && (factorType === null || factorType === void 0 ? void 0 : factorType.toLowerCase()) === 'sms' && (recoveryType === null || recoveryType === void 0 ? void 0 : recoveryType.toLowerCase()) === 'password';\n      }\n    },\n    isUnauthenticated: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'UNAUTHENTICATED';\n      }\n    },\n    isMfaRejected: {\n      // MFA failures are usually error responses\n      // except in the case of Okta Push, when a\n      // user clicks 'deny' on his phone or OV app\n      // version is below a required version no.\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.factorResult === 'REJECTED';\n      }\n    },\n    isMfaTimeout: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.factorResult === 'TIMEOUT';\n      }\n    },\n    isMfaEnrollActivate: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'MFA_ENROLL_ACTIVATE' || res.status === 'FACTOR_ENROLL_ACTIVATE';\n      }\n    },\n    isWaitingForActivation: {\n      deps: ['isMfaEnrollActivate', 'lastAuthResponse'],\n      fn: function (isMfaEnrollActivate, res) {\n        return isMfaEnrollActivate && res.factorResult === 'WAITING';\n      }\n    },\n    isWaitingForNumberChallenge: {\n      deps: ['lastAuthResponse', 'isMfaChallenge'],\n      fn: function (res, isMfaChallenge) {\n        if (isMfaChallenge && res && res.factorResult === 'WAITING' && res._embedded && res._embedded.factor && res._embedded.factor._embedded && res._embedded.factor._embedded.challenge) {\n          return true;\n        }\n        return false;\n      }\n    },\n    hasMultipleFactorsAvailable: {\n      deps: ['factors', 'isMfaRequired', 'isMfaChallenge', 'isUnauthenticated'],\n      fn: function (factors, isMfaRequired, isMfaChallenge, isUnauthenticated) {\n        if (!isMfaRequired && !isMfaChallenge && !isUnauthenticated) {\n          return false;\n        }\n        return factors && factors.length > 1;\n      }\n    },\n    promptForFactorInUnauthenticated: {\n      deps: ['lastAuthResponse', 'factors'],\n      fn: function (res, factors) {\n        if (res.status !== 'UNAUTHENTICATED') {\n          return false;\n        }\n        return factors && factors.length > 0;\n      }\n    },\n    userId: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.user) {\n          return null;\n        }\n        return res._embedded.user.id;\n      }\n    },\n    isIdxStateToken: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res && oktaUnderscore.isString(res.stateToken) && res.stateToken.startsWith('01');\n      }\n    },\n    isPwdExpiringSoon: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.status === 'PASSWORD_WARN';\n      }\n    },\n    passwordExpireDays: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.policy || !res._embedded.policy.expiration) {\n          return null;\n        }\n        return res._embedded.policy.expiration.passwordExpireDays;\n      }\n    },\n    isPwdManagedByOkta: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || !res._links.next.title) {\n          return true;\n        }\n        return false;\n      }\n    },\n    passwordExpiredWebsiteName: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || !res._links.next.title) {\n          return null;\n        }\n        return res._links.next.title;\n      }\n    },\n    passwordExpiredLinkUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || !res._links.next.title || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      }\n    },\n    recoveryType: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.recoveryType;\n      }\n    },\n    factorType: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.factorType;\n      }\n    },\n    factor: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.factor) {\n          return null;\n        }\n        return res._embedded.factor;\n      }\n    },\n    activatedFactorId: {\n      deps: ['factor'],\n      fn: function (factor) {\n        return factor ? factor.id : null;\n      }\n    },\n    activatedFactorType: {\n      deps: ['factor'],\n      fn: function (factor) {\n        return factor ? factor.factorType : null;\n      }\n    },\n    activatedFactorProvider: {\n      deps: ['factor'],\n      fn: function (factor) {\n        return factor ? factor.provider : null;\n      }\n    },\n    qrcode: {\n      deps: ['factor'],\n      fn: function (factor) {\n        try {\n          return factor._embedded.activation._links.qrcode.href;\n        } catch (err) {\n          return null;\n        }\n      }\n    },\n    activationSendLinks: {\n      deps: ['factor'],\n      fn: function (factor) {\n        let sendLinks;\n        try {\n          sendLinks = factor._embedded.activation._links.send;\n        } catch (err) {\n          sendLinks = [];\n        }\n        return sendLinks;\n      }\n    },\n    textActivationLinkUrl: {\n      deps: ['activationSendLinks'],\n      fn: function (activationSendLinks) {\n        const item = oktaUnderscore.findWhere(activationSendLinks, {\n          name: 'sms'\n        });\n        return item ? item.href : null;\n      }\n    },\n    emailActivationLinkUrl: {\n      deps: ['activationSendLinks'],\n      fn: function (activationSendLinks) {\n        const item = oktaUnderscore.findWhere(activationSendLinks, {\n          name: 'email'\n        });\n        return item ? item.href : null;\n      }\n    },\n    sharedSecret: {\n      deps: ['factor'],\n      fn: function (factor) {\n        try {\n          return factor._embedded.activation.sharedSecret;\n        } catch (err) {\n          return null;\n        }\n      }\n    },\n    duoEnrollActivation: {\n      deps: ['factor'],\n      fn: function (factor) {\n        if (!factor || !factor._embedded || !factor._embedded.activation) {\n          return null;\n        }\n        return factor._embedded.activation;\n      }\n    },\n    prevLink: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (res._links && res._links.prev) {\n          return res._links.prev.href;\n        }\n        return null;\n      }\n    },\n    skipLink: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (res._links && res._links.skip) {\n          return res._links.skip.href;\n        }\n        return null;\n      }\n    },\n    gracePeriodRemainingDays: {\n      deps: ['policy'],\n      fn: function (policy) {\n        if (policy && policy.gracePeriod && policy.gracePeriod.endDate) {\n          return getGracePeriodRemainingDays(policy.gracePeriod.endDate);\n        }\n        return null;\n      }\n    },\n    user: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.user) {\n          return null;\n        }\n        return res._embedded.user;\n      }\n    },\n    recoveryQuestion: {\n      deps: ['user'],\n      fn: function (user) {\n        if (!user || !user.recovery_question) {\n          return null;\n        }\n        return user.recovery_question.question;\n      }\n    },\n    userProfile: {\n      deps: ['user'],\n      fn: function (user) {\n        if (!user || !user.profile) {\n          return null;\n        }\n        return user.profile;\n      }\n    },\n    userConsentName: {\n      deps: ['userProfile', 'username'],\n      fn: function (userProfile, username) {\n        if (!userProfile || oktaUnderscore.isEmpty(userProfile.firstName)) {\n          return username;\n        }\n        if (oktaUnderscore.isEmpty(userProfile.lastName)) {\n          return userProfile.firstName;\n        }\n        return userProfile.firstName + ' ' + userProfile.lastName.charAt(0) + '.';\n      }\n    },\n    userEmail: {\n      deps: ['userProfile'],\n      fn: function (userProfile) {\n        if (!userProfile || !userProfile.login) {\n          return null;\n        }\n        return userProfile.login;\n      }\n    },\n    userFullName: {\n      deps: ['userProfile'],\n      fn: function (userProfile) {\n        if (!userProfile || !userProfile.firstName && !userProfile.lastName) {\n          return '';\n        }\n        return userProfile.firstName + ' ' + userProfile.lastName;\n      }\n    },\n    defaultAppLogo: {\n      deps: ['baseUrl'],\n      fn: function (baseUrl) {\n        return baseUrl + DEFAULT_APP_LOGO;\n      }\n    },\n    expiresAt: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.expiresAt;\n      }\n    },\n    target: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.target;\n      }\n    },\n    targetLabel: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target) {\n          return null;\n        }\n        return target.label;\n      }\n    },\n    targetLogo: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links.logo;\n      }\n    },\n    targetTermsOfService: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['terms-of-service'];\n      }\n    },\n    targetPrivacyPolicy: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['privacy-policy'];\n      }\n    },\n    targetClientURI: {\n      deps: ['target'],\n      fn: function (target) {\n        if (!target || !target._links) {\n          return null;\n        }\n        return target._links['client-uri'];\n      }\n    },\n    scopes: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.scopes;\n      }\n    },\n    issuer: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        var _res$_embedded, _res$_embedded$authen, _res$_embedded$authen2;\n        return res === null || res === void 0 ? void 0 : (_res$_embedded = res._embedded) === null || _res$_embedded === void 0 ? void 0 : (_res$_embedded$authen = _res$_embedded.authentication) === null || _res$_embedded$authen === void 0 ? void 0 : (_res$_embedded$authen2 = _res$_embedded$authen.issuer) === null || _res$_embedded$authen2 === void 0 ? void 0 : _res$_embedded$authen2.uri;\n      }\n    },\n    hasExistingPhones: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.factors) {\n          return false;\n        }\n        const factors = res._embedded.factors;\n        const factor = oktaUnderscore.findWhere(factors, {\n          factorType: 'sms',\n          provider: 'OKTA'\n        });\n        if (!factor || !factor._embedded) {\n          return false;\n        }\n        return !!factor._embedded.phones.length;\n      }\n    },\n    hasExistingPhonesForCall: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded || !res._embedded.factors) {\n          return false;\n        }\n        const factors = res._embedded.factors;\n        const factor = oktaUnderscore.findWhere(factors, {\n          factorType: 'call',\n          provider: 'OKTA'\n        });\n        if (!factor || !factor._embedded) {\n          return false;\n        }\n        return !!factor._embedded.phones.length;\n      }\n    },\n    isUndefinedUser: {\n      deps: ['securityImage'],\n      fn: function (securityImage) {\n        return securityImage === UNDEFINED_USER;\n      }\n    },\n    isNewUser: {\n      deps: ['securityImage'],\n      fn: function (securityImage) {\n        return securityImage === NEW_USER;\n      }\n    },\n    allowRememberDevice: {\n      deps: ['policy'],\n      fn: function (policy) {\n        return policy && policy.allowRememberDevice;\n      }\n    },\n    rememberDeviceLabel: {\n      deps: ['policy'],\n      fn: function (policy) {\n        if (policy && policy.rememberDeviceLifetimeInMinutes > 0) {\n          const timeString = getMinutesString(policy.rememberDeviceLifetimeInMinutes);\n          return loc('rememberDevice.timebased', 'login', [timeString]);\n        } else if (policy && policy.rememberDeviceLifetimeInMinutes === 0) {\n          return loc('rememberDevice.devicebased', 'login');\n        }\n        return loc('rememberDevice', 'login');\n      }\n    },\n    rememberDeviceByDefault: {\n      deps: ['policy'],\n      fn: function (policy) {\n        return policy && policy.rememberDeviceByDefault;\n      }\n    },\n    factorsPolicyInfo: {\n      deps: ['policy'],\n      fn: function (policy) {\n        return policy && policy.factorsPolicyInfo ? policy.factorsPolicyInfo : null;\n      }\n    },\n    verifyCustomFactorRedirectUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || res._links.next.name !== 'redirect' || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      }\n    },\n    enrollCustomFactorRedirectUrl: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._links || !res._links.next || res._links.next.name !== 'activate' || !res._links.next.href) {\n          return null;\n        }\n        return res._links.next.href;\n      }\n    },\n    isFactorResultFailed: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return res.factorResult === 'FAILED';\n      }\n    },\n    factorResultErrorMessage: {\n      deps: ['lastAuthResponse', 'isFactorResultFailed'],\n      fn: function (res, isFactorResultFailed) {\n        if (isFactorResultFailed) {\n          return res.factorResultMessage || loc('oform.error.unexpected', 'login');\n        }\n        return null;\n      }\n    },\n    deviceActivationStatus: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        if (!res._embedded) {\n          return null;\n        }\n        return res._embedded.deviceActivationStatus;\n      }\n    },\n    usingDeviceFlow: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        return !!(res._embedded && res._embedded.usingDeviceFlow);\n      }\n    },\n    userCode: {\n      deps: ['lastAuthResponse'],\n      fn: function (res) {\n        var _res$_embedded2;\n        return res === null || res === void 0 ? void 0 : (_res$_embedded2 = res._embedded) === null || _res$_embedded2 === void 0 ? void 0 : _res$_embedded2.userCode;\n      }\n    }\n  },\n  parse: function (options) {\n    this.settings = options.settings;\n    return oktaUnderscore.extend(oktaUnderscore.omit(options, 'settings'), {\n      languageCode: this.settings.get('languageCode'),\n      userCountryCode: this.settings.get('countryCode')\n    });\n  }\n});\n\nexport { AppState as default };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}