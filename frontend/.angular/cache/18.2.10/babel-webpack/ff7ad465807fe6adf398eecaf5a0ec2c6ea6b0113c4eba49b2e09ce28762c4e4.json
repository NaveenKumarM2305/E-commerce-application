{"ast":null,"code":"import Bundles from './Bundles.js';\n\n/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/**\n * Translate a key to the localized value\n * @param  {String} key The key\n * @param  {String} [bundle=\"login\"] The name of the i18n bundle. Defaults to \"login\".\n * @param  {Array} [params] A list of parameters to apply as tokens to the i18n value\n * @param  {Boolean} [ignoreIncorrectParams] If true, a custom 'okta-i18n-error' event would not be dispatched\n * @return {String} The localized value\n */\nconst loc = function (key, bundleName = 'login', params = [], ignoreIncorrectParams = false) {\n  const bundle = getBundle(bundleName);\n  /* eslint complexity: [2, 7] */\n\n  if (!bundle) {\n    emitL10nError(key, bundleName, 'bundle');\n    return 'L10N_ERROR[' + bundleName + ']';\n  }\n  let value = bundle[key];\n  try {\n    params = params && params.slice ? params.slice(0) : [];\n    value = sprintf(value, params);\n    if (value) {\n      return value;\n    } else {\n      emitL10nError(key, bundleName, 'key');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  } catch (e) {\n    if (!ignoreIncorrectParams) {\n      emitL10nError(key, bundleName, 'parameters');\n    }\n    return 'L10N_ERROR[' + key + ']';\n  }\n};\n\n/**\n* Converts the locale code identifier from \"${languageCode}-${countryCode}\" to \"${languageCode}_${countryCode}\"\n* Follows the ISO-639-1 language code and 2-letter ISO-3166-1-alpha-2 country code structure.\n* @param {String} locale code identifier\n* @return {String} converted locale code identifier\n*/\nconst parseLocale = locale => {\n  if (/-/.test(locale)) {\n    const parts = locale.split('-');\n    parts[1] = parts[1].toUpperCase();\n    return parts.join('_');\n  }\n  return locale;\n};\n\n/**\n * Returns the language bundle based on the current locale.\n * - If a locale is not provided, default to English ('en')\n * - Legacy Support: If the named language bundle does not exist, fall back to the default named bundle.\n *\n * @param {*} bundleName\n */\nfunction getBundle(bundleName) {\n  if (!bundleName) {\n    const key = Object.keys(Bundles).filter(k => typeof k === 'object')[0];\n    return Bundles[key];\n  }\n  const locale = parseLocale(getRawLocale());\n  return Bundles[`${bundleName}_${locale}`] || Bundles[bundleName];\n}\n\n/**\n * Returns the user's locale as defined by window.okta.locale\n */\nfunction getRawLocale() {\n  var _window, _window$okta;\n  return ((_window = window) === null || _window === void 0 ? void 0 : (_window$okta = _window.okta) === null || _window$okta === void 0 ? void 0 : _window$okta.locale) || 'en';\n}\n\n/**\n * Dispatch custom 'okta-i18n-error' event\n * @param {String} key The i18n key\n * @param {String} bundleName The i18n bundle name\n * @param {String} reason Could be 'bundle' (Bundle not found), 'key' (Key not found) or 'parameters' (Parameters mismatch).\n */\nfunction emitL10nError(key, bundleName, reason) {\n  const event = createCustomEvent('okta-i18n-error', {\n    detail: {\n      type: 'l10n-error',\n      key: key,\n      bundleName: bundleName,\n      reason: reason\n    }\n  });\n  if (event) {\n    document.dispatchEvent(event);\n  }\n}\nconst createCustomEvent = function (event, params) {\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(event, params);\n  } else if (!window.CustomEvent) {\n    /**\n     * CustomEvent polyfill for IE\n     * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n     */\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: null\n    };\n    const evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n};\n\n/**\n * Format tempalte string with parameters\n * @param {String} value Template string, eg. \"Reset via {0}\"\n * @param  {Array} [params] A list of parameters to apply as tokens to the template string, eg. [\"SMS\"]\n * @return {String} Formatted string value, eg. \"Reset via SMS\"\n */\nfunction sprintf(value, params) {\n  /* eslint max-statements: [2, 15] */\n\n  function triggerError() {\n    throw new Error('Mismatch number of variables: ' + value + ', ' + JSON.stringify(params));\n  }\n  let oldValue = value,\n    newValue = value;\n  for (let i = 0, l = params.length; i < l; i++) {\n    const entity = String(params[i]);\n    const regex = new RegExp('\\\\{' + i + '\\\\}', 'g');\n    newValue = newValue.replace(regex, entity);\n    if (entity === undefined || entity === null || newValue === oldValue) {\n      triggerError();\n    }\n    oldValue = newValue;\n  }\n  if (/\\{[\\d+]\\}/.test(newValue)) {\n    triggerError();\n  }\n  return newValue;\n}\nexport { loc };","map":{"version":3,"names":["Bundles","loc","key","bundleName","params","ignoreIncorrectParams","bundle","getBundle","emitL10nError","value","slice","sprintf","e","parseLocale","locale","test","parts","split","toUpperCase","join","Object","keys","filter","k","getRawLocale","_window","_window$okta","window","okta","reason","event","createCustomEvent","detail","type","document","dispatchEvent","CustomEvent","bubbles","cancelable","evt","createEvent","initCustomEvent","triggerError","Error","JSON","stringify","oldValue","newValue","i","l","length","entity","String","regex","RegExp","replace","undefined"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-signin-widget/dist/esm/src/util/loc.js"],"sourcesContent":["import Bundles from './Bundles.js';\n\n/*!\n * Copyright (c) 2015-2016, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n/**\n * Translate a key to the localized value\n * @param  {String} key The key\n * @param  {String} [bundle=\"login\"] The name of the i18n bundle. Defaults to \"login\".\n * @param  {Array} [params] A list of parameters to apply as tokens to the i18n value\n * @param  {Boolean} [ignoreIncorrectParams] If true, a custom 'okta-i18n-error' event would not be dispatched\n * @return {String} The localized value\n */\nconst loc = function (key, bundleName = 'login', params = [], ignoreIncorrectParams = false) {\n  const bundle = getBundle(bundleName);\n  /* eslint complexity: [2, 7] */\n\n  if (!bundle) {\n    emitL10nError(key, bundleName, 'bundle');\n    return 'L10N_ERROR[' + bundleName + ']';\n  }\n  let value = bundle[key];\n  try {\n    params = params && params.slice ? params.slice(0) : [];\n    value = sprintf(value, params);\n    if (value) {\n      return value;\n    } else {\n      emitL10nError(key, bundleName, 'key');\n      return 'L10N_ERROR[' + key + ']';\n    }\n  } catch (e) {\n    if (!ignoreIncorrectParams) {\n      emitL10nError(key, bundleName, 'parameters');\n    }\n    return 'L10N_ERROR[' + key + ']';\n  }\n};\n\n/**\n* Converts the locale code identifier from \"${languageCode}-${countryCode}\" to \"${languageCode}_${countryCode}\"\n* Follows the ISO-639-1 language code and 2-letter ISO-3166-1-alpha-2 country code structure.\n* @param {String} locale code identifier\n* @return {String} converted locale code identifier\n*/\nconst parseLocale = locale => {\n  if (/-/.test(locale)) {\n    const parts = locale.split('-');\n    parts[1] = parts[1].toUpperCase();\n    return parts.join('_');\n  }\n  return locale;\n};\n\n/**\n * Returns the language bundle based on the current locale.\n * - If a locale is not provided, default to English ('en')\n * - Legacy Support: If the named language bundle does not exist, fall back to the default named bundle.\n *\n * @param {*} bundleName\n */\nfunction getBundle(bundleName) {\n  if (!bundleName) {\n    const key = Object.keys(Bundles).filter(k => typeof k === 'object')[0];\n    return Bundles[key];\n  }\n  const locale = parseLocale(getRawLocale());\n  return Bundles[`${bundleName}_${locale}`] || Bundles[bundleName];\n}\n\n/**\n * Returns the user's locale as defined by window.okta.locale\n */\nfunction getRawLocale() {\n  var _window, _window$okta;\n  return ((_window = window) === null || _window === void 0 ? void 0 : (_window$okta = _window.okta) === null || _window$okta === void 0 ? void 0 : _window$okta.locale) || 'en';\n}\n\n/**\n * Dispatch custom 'okta-i18n-error' event\n * @param {String} key The i18n key\n * @param {String} bundleName The i18n bundle name\n * @param {String} reason Could be 'bundle' (Bundle not found), 'key' (Key not found) or 'parameters' (Parameters mismatch).\n */\nfunction emitL10nError(key, bundleName, reason) {\n  const event = createCustomEvent('okta-i18n-error', {\n    detail: {\n      type: 'l10n-error',\n      key: key,\n      bundleName: bundleName,\n      reason: reason\n    }\n  });\n  if (event) {\n    document.dispatchEvent(event);\n  }\n}\nconst createCustomEvent = function (event, params) {\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(event, params);\n  } else if (!window.CustomEvent) {\n    /**\n     * CustomEvent polyfill for IE\n     * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#polyfill\n     */\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: null\n    };\n    const evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n};\n\n/**\n * Format tempalte string with parameters\n * @param {String} value Template string, eg. \"Reset via {0}\"\n * @param  {Array} [params] A list of parameters to apply as tokens to the template string, eg. [\"SMS\"]\n * @return {String} Formatted string value, eg. \"Reset via SMS\"\n */\nfunction sprintf(value, params) {\n  /* eslint max-statements: [2, 15] */\n\n  function triggerError() {\n    throw new Error('Mismatch number of variables: ' + value + ', ' + JSON.stringify(params));\n  }\n  let oldValue = value,\n    newValue = value;\n  for (let i = 0, l = params.length; i < l; i++) {\n    const entity = String(params[i]);\n    const regex = new RegExp('\\\\{' + i + '\\\\}', 'g');\n    newValue = newValue.replace(regex, entity);\n    if (entity === undefined || entity === null || newValue === oldValue) {\n      triggerError();\n    }\n    oldValue = newValue;\n  }\n  if (/\\{[\\d+]\\}/.test(newValue)) {\n    triggerError();\n  }\n  return newValue;\n}\n\nexport { loc };\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,cAAc;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,GAAG,GAAG,SAAAA,CAAUC,GAAG,EAAEC,UAAU,GAAG,OAAO,EAAEC,MAAM,GAAG,EAAE,EAAEC,qBAAqB,GAAG,KAAK,EAAE;EAC3F,MAAMC,MAAM,GAAGC,SAAS,CAACJ,UAAU,CAAC;EACpC;;EAEA,IAAI,CAACG,MAAM,EAAE;IACXE,aAAa,CAACN,GAAG,EAAEC,UAAU,EAAE,QAAQ,CAAC;IACxC,OAAO,aAAa,GAAGA,UAAU,GAAG,GAAG;EACzC;EACA,IAAIM,KAAK,GAAGH,MAAM,CAACJ,GAAG,CAAC;EACvB,IAAI;IACFE,MAAM,GAAGA,MAAM,IAAIA,MAAM,CAACM,KAAK,GAAGN,MAAM,CAACM,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE;IACtDD,KAAK,GAAGE,OAAO,CAACF,KAAK,EAAEL,MAAM,CAAC;IAC9B,IAAIK,KAAK,EAAE;MACT,OAAOA,KAAK;IACd,CAAC,MAAM;MACLD,aAAa,CAACN,GAAG,EAAEC,UAAU,EAAE,KAAK,CAAC;MACrC,OAAO,aAAa,GAAGD,GAAG,GAAG,GAAG;IAClC;EACF,CAAC,CAAC,OAAOU,CAAC,EAAE;IACV,IAAI,CAACP,qBAAqB,EAAE;MAC1BG,aAAa,CAACN,GAAG,EAAEC,UAAU,EAAE,YAAY,CAAC;IAC9C;IACA,OAAO,aAAa,GAAGD,GAAG,GAAG,GAAG;EAClC;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,MAAMW,WAAW,GAAGC,MAAM,IAAI;EAC5B,IAAI,GAAG,CAACC,IAAI,CAACD,MAAM,CAAC,EAAE;IACpB,MAAME,KAAK,GAAGF,MAAM,CAACG,KAAK,CAAC,GAAG,CAAC;IAC/BD,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,CAACE,WAAW,CAAC,CAAC;IACjC,OAAOF,KAAK,CAACG,IAAI,CAAC,GAAG,CAAC;EACxB;EACA,OAAOL,MAAM;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASP,SAASA,CAACJ,UAAU,EAAE;EAC7B,IAAI,CAACA,UAAU,EAAE;IACf,MAAMD,GAAG,GAAGkB,MAAM,CAACC,IAAI,CAACrB,OAAO,CAAC,CAACsB,MAAM,CAACC,CAAC,IAAI,OAAOA,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC;IACtE,OAAOvB,OAAO,CAACE,GAAG,CAAC;EACrB;EACA,MAAMY,MAAM,GAAGD,WAAW,CAACW,YAAY,CAAC,CAAC,CAAC;EAC1C,OAAOxB,OAAO,CAAC,GAAGG,UAAU,IAAIW,MAAM,EAAE,CAAC,IAAId,OAAO,CAACG,UAAU,CAAC;AAClE;;AAEA;AACA;AACA;AACA,SAASqB,YAAYA,CAAA,EAAG;EACtB,IAAIC,OAAO,EAAEC,YAAY;EACzB,OAAO,CAAC,CAACD,OAAO,GAAGE,MAAM,MAAM,IAAI,IAAIF,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,YAAY,GAAGD,OAAO,CAACG,IAAI,MAAM,IAAI,IAAIF,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACZ,MAAM,KAAK,IAAI;AAChL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASN,aAAaA,CAACN,GAAG,EAAEC,UAAU,EAAE0B,MAAM,EAAE;EAC9C,MAAMC,KAAK,GAAGC,iBAAiB,CAAC,iBAAiB,EAAE;IACjDC,MAAM,EAAE;MACNC,IAAI,EAAE,YAAY;MAClB/B,GAAG,EAAEA,GAAG;MACRC,UAAU,EAAEA,UAAU;MACtB0B,MAAM,EAAEA;IACV;EACF,CAAC,CAAC;EACF,IAAIC,KAAK,EAAE;IACTI,QAAQ,CAACC,aAAa,CAACL,KAAK,CAAC;EAC/B;AACF;AACA,MAAMC,iBAAiB,GAAG,SAAAA,CAAUD,KAAK,EAAE1B,MAAM,EAAE;EACjD,IAAI,OAAOuB,MAAM,CAACS,WAAW,KAAK,UAAU,EAAE;IAC5C,OAAO,IAAIA,WAAW,CAACN,KAAK,EAAE1B,MAAM,CAAC;EACvC,CAAC,MAAM,IAAI,CAACuB,MAAM,CAACS,WAAW,EAAE;IAC9B;AACJ;AACA;AACA;IACIhC,MAAM,GAAGA,MAAM,IAAI;MACjBiC,OAAO,EAAE,KAAK;MACdC,UAAU,EAAE,KAAK;MACjBN,MAAM,EAAE;IACV,CAAC;IACD,MAAMO,GAAG,GAAGL,QAAQ,CAACM,WAAW,CAAC,aAAa,CAAC;IAC/CD,GAAG,CAACE,eAAe,CAACX,KAAK,EAAE1B,MAAM,CAACiC,OAAO,EAAEjC,MAAM,CAACkC,UAAU,EAAElC,MAAM,CAAC4B,MAAM,CAAC;IAC5E,OAAOO,GAAG;EACZ;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,SAAS5B,OAAOA,CAACF,KAAK,EAAEL,MAAM,EAAE;EAC9B;;EAEA,SAASsC,YAAYA,CAAA,EAAG;IACtB,MAAM,IAAIC,KAAK,CAAC,gCAAgC,GAAGlC,KAAK,GAAG,IAAI,GAAGmC,IAAI,CAACC,SAAS,CAACzC,MAAM,CAAC,CAAC;EAC3F;EACA,IAAI0C,QAAQ,GAAGrC,KAAK;IAClBsC,QAAQ,GAAGtC,KAAK;EAClB,KAAK,IAAIuC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAG7C,MAAM,CAAC8C,MAAM,EAAEF,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;IAC7C,MAAMG,MAAM,GAAGC,MAAM,CAAChD,MAAM,CAAC4C,CAAC,CAAC,CAAC;IAChC,MAAMK,KAAK,GAAG,IAAIC,MAAM,CAAC,KAAK,GAAGN,CAAC,GAAG,KAAK,EAAE,GAAG,CAAC;IAChDD,QAAQ,GAAGA,QAAQ,CAACQ,OAAO,CAACF,KAAK,EAAEF,MAAM,CAAC;IAC1C,IAAIA,MAAM,KAAKK,SAAS,IAAIL,MAAM,KAAK,IAAI,IAAIJ,QAAQ,KAAKD,QAAQ,EAAE;MACpEJ,YAAY,CAAC,CAAC;IAChB;IACAI,QAAQ,GAAGC,QAAQ;EACrB;EACA,IAAI,WAAW,CAAChC,IAAI,CAACgC,QAAQ,CAAC,EAAE;IAC9BL,YAAY,CAAC,CAAC;EAChB;EACA,OAAOK,QAAQ;AACjB;AAEA,SAAS9C,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}