{"ast":null,"code":"import { OKTA_AUTH } from '@okta/okta-angular';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@okta/okta-angular\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@okta/okta-auth-js\";\nfunction LoginStatusComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" Welcome Back \", ctx_r0.userFullName, \"! \");\n  }\n}\nfunction LoginStatusComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵtext(1, \"Login\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginStatusComponent_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function LoginStatusComponent_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.logout());\n    });\n    i0.ɵɵtext(1, \"Logout\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginStatusComponent {\n  constructor(oktaAuthService, oktaAuth) {\n    this.oktaAuthService = oktaAuthService;\n    this.oktaAuth = oktaAuth;\n    this.isAuthenticated = false;\n    this.userFullName = '';\n  }\n  ngOnInit() {\n    this.oktaAuthService.authState$.subscribe(result => {\n      this.isAuthenticated = result.isAuthenticated ?? false;\n      this.getUserDetails();\n    });\n  }\n  getUserDetails() {\n    if (this.isAuthenticated) {\n      this.oktaAuth.getUser().then(res => {\n        this.userFullName = res.name;\n      });\n    }\n  }\n  logout() {\n    this.oktaAuth.signOut();\n  }\n  static {\n    this.ɵfac = function LoginStatusComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LoginStatusComponent)(i0.ɵɵdirectiveInject(i1.OktaAuthStateService), i0.ɵɵdirectiveInject(OKTA_AUTH));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginStatusComponent,\n      selectors: [[\"app-login-status\"]],\n      decls: 4,\n      vars: 3,\n      consts: [[1, \"login-status-header\"], [\"class\", \"login-status-user-info\", 4, \"ngIf\"], [\"routerLink\", \"/login\", \"class\", \"security-btn\", 4, \"ngIf\"], [\"class\", \"security-btn\", 3, \"click\", 4, \"ngIf\"], [1, \"login-status-user-info\"], [\"routerLink\", \"/login\", 1, \"security-btn\"], [1, \"security-btn\", 3, \"click\"]],\n      template: function LoginStatusComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, LoginStatusComponent_div_1_Template, 2, 1, \"div\", 1)(2, LoginStatusComponent_button_2_Template, 2, 0, \"button\", 2)(3, LoginStatusComponent_button_3_Template, 2, 0, \"button\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated && ctx.userFullName);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n        }\n      },\n      dependencies: [i2.RouterLink, i3.NgIf],\n      styles: [\".security-btn[_ngcontent-%COMP%]{\\n    position:relative;\\n    right:0;\\n    min-width:95px;\\n    color:#fff;\\n    border:10px solid #205b8d;\\n    border-radius:43px;\\n    background:#205b8d\\n}\\n\\n.login-status-header[_ngcontent-%COMP%]{\\n    display:flex\\n}\\n\\n.login-status-user-info[_ngcontent-%COMP%]{\\n    line-height:43px;\\n    border:1px #e5e5e5;\\n    padding:0 17px;\\n    border-radius:3px;\\n    transition:all .5s ease\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLXN0YXR1cy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0lBQ2pCLE9BQU87SUFDUCxjQUFjO0lBQ2QsVUFBVTtJQUNWLHlCQUF5QjtJQUd6QixrQkFBa0I7SUFDbEI7QUFDSjs7QUFFQTtJQUtJO0FBQ0o7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLGNBQWM7SUFHZCxpQkFBaUI7SUFJakI7QUFDSiIsImZpbGUiOiJsb2dpbi1zdGF0dXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zZWN1cml0eS1idG57XHJcbiAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcclxuICAgIHJpZ2h0OjA7XHJcbiAgICBtaW4td2lkdGg6OTVweDtcclxuICAgIGNvbG9yOiNmZmY7XHJcbiAgICBib3JkZXI6MTBweCBzb2xpZCAjMjA1YjhkO1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOjNweDtcclxuICAgIC1tb3otYm9yZGVyLXJhZGl1czozcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOjQzcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiMyMDViOGRcclxufVxyXG5cclxuLmxvZ2luLXN0YXR1cy1oZWFkZXJ7XHJcbiAgICBkaXNwbGF5Oi13ZWJraXQtYm94O1xyXG4gICAgZGlzcGxheTotd2Via2l0LWZsZXg7XHJcbiAgICBkaXNwbGF5Oi1tb3otYm94O1xyXG4gICAgZGlzcGxheTotbXMtZmxleGJveDtcclxuICAgIGRpc3BsYXk6ZmxleFxyXG59XHJcblxyXG4ubG9naW4tc3RhdHVzLXVzZXItaW5mb3tcclxuICAgIGxpbmUtaGVpZ2h0OjQzcHg7XHJcbiAgICBib3JkZXI6MXB4ICNlNWU1ZTU7XHJcbiAgICBwYWRkaW5nOjAgMTdweDtcclxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czozcHg7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6M3B4O1xyXG4gICAgYm9yZGVyLXJhZGl1czozcHg7XHJcbiAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIC41cyBlYXNlO1xyXG4gICAgLW8tdHJhbnNpdGlvbjphbGwgLjVzIGVhc2U7XHJcbiAgICAtbW96LXRyYW5zaXRpb246YWxsIC41cyBlYXNlO1xyXG4gICAgdHJhbnNpdGlvbjphbGwgLjVzIGVhc2VcclxufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi1zdGF0dXMvbG9naW4tc3RhdHVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsT0FBTztJQUNQLGNBQWM7SUFDZCxVQUFVO0lBQ1YseUJBQXlCO0lBR3pCLGtCQUFrQjtJQUNsQjtBQUNKOztBQUVBO0lBS0k7QUFDSjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsY0FBYztJQUdkLGlCQUFpQjtJQUlqQjtBQUNKO0FBVkEsbzhDQUFvOEMiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VjdXJpdHktYnRue1xyXG4gICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICByaWdodDowO1xyXG4gICAgbWluLXdpZHRoOjk1cHg7XHJcbiAgICBjb2xvcjojZmZmO1xyXG4gICAgYm9yZGVyOjEwcHggc29saWQgIzIwNWI4ZDtcclxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czozcHg7XHJcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6M3B4O1xyXG4gICAgYm9yZGVyLXJhZGl1czo0M3B4O1xyXG4gICAgYmFja2dyb3VuZDojMjA1YjhkXHJcbn1cclxuXHJcbi5sb2dpbi1zdGF0dXMtaGVhZGVye1xyXG4gICAgZGlzcGxheTotd2Via2l0LWJveDtcclxuICAgIGRpc3BsYXk6LXdlYmtpdC1mbGV4O1xyXG4gICAgZGlzcGxheTotbW96LWJveDtcclxuICAgIGRpc3BsYXk6LW1zLWZsZXhib3g7XHJcbiAgICBkaXNwbGF5OmZsZXhcclxufVxyXG5cclxuLmxvZ2luLXN0YXR1cy11c2VyLWluZm97XHJcbiAgICBsaW5lLWhlaWdodDo0M3B4O1xyXG4gICAgYm9yZGVyOjFweCAjZTVlNWU1O1xyXG4gICAgcGFkZGluZzowIDE3cHg7XHJcbiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6M3B4O1xyXG4gICAgLW1vei1ib3JkZXItcmFkaXVzOjNweDtcclxuICAgIGJvcmRlci1yYWRpdXM6M3B4O1xyXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuNXMgZWFzZTtcclxuICAgIC1vLXRyYW5zaXRpb246YWxsIC41cyBlYXNlO1xyXG4gICAgLW1vei10cmFuc2l0aW9uOmFsbCAuNXMgZWFzZTtcclxuICAgIHRyYW5zaXRpb246YWxsIC41cyBlYXNlXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["OKTA_AUTH","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","userFullName","ɵɵlistener","LoginStatusComponent_button_3_Template_button_click_0_listener","ɵɵrestoreView","_r2","ɵɵnextContext","ɵɵresetView","logout","LoginStatusComponent","constructor","oktaAuthService","oktaAuth","isAuthenticated","ngOnInit","authState$","subscribe","result","getUserDetails","getUser","then","res","name","signOut","ɵɵdirectiveInject","i1","OktaAuthStateService","selectors","decls","vars","consts","template","LoginStatusComponent_Template","rf","ctx","ɵɵtemplate","LoginStatusComponent_div_1_Template","LoginStatusComponent_button_2_Template","LoginStatusComponent_button_3_Template","ɵɵproperty"],"sources":["C:\\SpringBOot\\ecommerce-project\\03-frontend\\angular-ecommerce\\src\\app\\components\\login-status\\login-status.component.ts","C:\\SpringBOot\\ecommerce-project\\03-frontend\\angular-ecommerce\\src\\app\\components\\login-status\\login-status.component.html"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\nimport { OKTA_AUTH, OktaAuthStateService } from '@okta/okta-angular';\nimport { OktaAuth } from '@okta/okta-auth-js';\n\n@Component({\n  selector: 'app-login-status',\n  templateUrl: './login-status.component.html',\n  styleUrls: ['./login-status.component.css']\n})\nexport class LoginStatusComponent implements OnInit {\n\n  isAuthenticated:boolean=false;\n  userFullName:string='';\n\n  constructor(private oktaAuthService:OktaAuthStateService,@Inject(OKTA_AUTH) private oktaAuth:OktaAuth) { }\n\n  ngOnInit(): void {\n    this.oktaAuthService.authState$.subscribe(\n      (result)=>{\n        this.isAuthenticated=result.isAuthenticated??false;\n        this.getUserDetails();\n      }\n    );\n  }\n  getUserDetails() {\n    if(this.isAuthenticated){\n      this.oktaAuth.getUser().then(\n        (res)=>{\n          this.userFullName=res.name as string;\n        }\n      );\n    }\n  }\n  logout(){\n    this.oktaAuth.signOut();\n  }\n}\n","<div class=\"login-status-header\" >\n    <div *ngIf=\"isAuthenticated && userFullName\" class=\"login-status-user-info\">\n        Welcome Back {{userFullName}}!\n    </div>\n    <button *ngIf=\"!isAuthenticated\"routerLink=\"/login\" class=\"security-btn\">Login</button>\n    <button *ngIf=\"isAuthenticated\" (click)=\"logout()\"  class=\"security-btn\">Logout</button>\n</div>\n"],"mappings":"AACA,SAASA,SAAS,QAA8B,oBAAoB;;;;;;;;ICAhEC,EAAA,CAAAC,cAAA,aAA4E;IACxED,EAAA,CAAAE,MAAA,GACJ;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADFH,EAAA,CAAAI,SAAA,EACJ;IADIJ,EAAA,CAAAK,kBAAA,mBAAAC,MAAA,CAAAC,YAAA,OACJ;;;;;IACAP,EAAA,CAAAC,cAAA,gBAAyE;IAAAD,EAAA,CAAAE,MAAA,YAAK;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;;;IACvFH,EAAA,CAAAC,cAAA,gBAAyE;IAAzCD,EAAA,CAAAQ,UAAA,mBAAAC,+DAAA;MAAAT,EAAA,CAAAU,aAAA,CAAAC,GAAA;MAAA,MAAAL,MAAA,GAAAN,EAAA,CAAAY,aAAA;MAAA,OAAAZ,EAAA,CAAAa,WAAA,CAASP,MAAA,CAAAQ,MAAA,EAAQ;IAAA,EAAC;IAAuBd,EAAA,CAAAE,MAAA,aAAM;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;ADI5F,OAAM,MAAOY,oBAAoB;EAK/BC,YAAoBC,eAAoC,EAA4BC,QAAiB;IAAjF,KAAAD,eAAe,GAAfA,eAAe;IAAiD,KAAAC,QAAQ,GAARA,QAAQ;IAH5F,KAAAC,eAAe,GAAS,KAAK;IAC7B,KAAAZ,YAAY,GAAQ,EAAE;EAEmF;EAEzGa,QAAQA,CAAA;IACN,IAAI,CAACH,eAAe,CAACI,UAAU,CAACC,SAAS,CACtCC,MAAM,IAAG;MACR,IAAI,CAACJ,eAAe,GAACI,MAAM,CAACJ,eAAe,IAAE,KAAK;MAClD,IAAI,CAACK,cAAc,EAAE;IACvB,CAAC,CACF;EACH;EACAA,cAAcA,CAAA;IACZ,IAAG,IAAI,CAACL,eAAe,EAAC;MACtB,IAAI,CAACD,QAAQ,CAACO,OAAO,EAAE,CAACC,IAAI,CACzBC,GAAG,IAAG;QACL,IAAI,CAACpB,YAAY,GAACoB,GAAG,CAACC,IAAc;MACtC,CAAC,CACF;IACH;EACF;EACAd,MAAMA,CAAA;IACJ,IAAI,CAACI,QAAQ,CAACW,OAAO,EAAE;EACzB;;;uCA1BWd,oBAAoB,EAAAf,EAAA,CAAA8B,iBAAA,CAAAC,EAAA,CAAAC,oBAAA,GAAAhC,EAAA,CAAA8B,iBAAA,CAKkC/B,SAAS;IAAA;EAAA;;;YAL/DgB,oBAAoB;MAAAkB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCTjCvC,EAAA,CAAAC,cAAA,aAAkC;UAK9BD,EAJA,CAAAyC,UAAA,IAAAC,mCAAA,iBAA4E,IAAAC,sCAAA,oBAGH,IAAAC,sCAAA,oBACA;UAC7E5C,EAAA,CAAAG,YAAA,EAAM;;;UALIH,EAAA,CAAAI,SAAA,EAAqC;UAArCJ,EAAA,CAAA6C,UAAA,SAAAL,GAAA,CAAArB,eAAA,IAAAqB,GAAA,CAAAjC,YAAA,CAAqC;UAGlCP,EAAA,CAAAI,SAAA,EAAsB;UAAtBJ,EAAA,CAAA6C,UAAA,UAAAL,GAAA,CAAArB,eAAA,CAAsB;UACtBnB,EAAA,CAAAI,SAAA,EAAqB;UAArBJ,EAAA,CAAA6C,UAAA,SAAAL,GAAA,CAAArB,eAAA,CAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}