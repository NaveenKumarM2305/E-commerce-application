{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, Component, VERSION, Directive, Input, NgModule } from '@angular/core';\nimport { Router, NavigationStart } from '@angular/router';\nimport { Location } from '@angular/common';\nimport * as i2 from '@okta/okta-auth-js';\nimport { AuthSdkError, toRelativeUrl } from '@okta/okta-auth-js';\nimport { filter, mergeMap, switchMap, takeUntil } from 'rxjs/operators';\nimport { BehaviorSubject, ReplaySubject, Subject } from 'rxjs';\nimport { compare } from 'compare-versions';\n\n/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nconst OKTA_CONFIG = new InjectionToken('okta.config.angular');\nconst OKTA_AUTH = new InjectionToken('okta.auth');\nclass OktaAuthConfigService {\n  constructor(config) {\n    if (config) {\n      this.config = config;\n    }\n  }\n  getConfig() {\n    return this.config;\n  }\n  setConfig(config) {\n    this.config = config;\n  }\n}\nOktaAuthConfigService.ɵfac = function OktaAuthConfigService_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || OktaAuthConfigService)(i0.ɵɵinject(OKTA_CONFIG, 8));\n};\nOktaAuthConfigService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: OktaAuthConfigService,\n  factory: OktaAuthConfigService.ɵfac,\n  providedIn: 'root'\n});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OktaAuthConfigService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [OKTA_CONFIG]\n      }]\n    }];\n  }, null);\n})();\nvar __awaiter$3 = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nclass OktaCallbackComponent {\n  constructor(configService, oktaAuth, injector) {\n    this.configService = configService;\n    this.oktaAuth = oktaAuth;\n    this.injector = injector;\n  }\n  ngOnInit() {\n    return __awaiter$3(this, void 0, void 0, function* () {\n      const config = this.configService.getConfig();\n      if (!config) {\n        throw new Error('Okta config is not provided');\n      }\n      try {\n        // Parse code or tokens from the URL, store tokens in the TokenManager, and redirect back to the originalUri\n        yield this.oktaAuth.handleLoginRedirect();\n      } catch (e) {\n        // Callback from social IDP. Show custom login page to continue.\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore Supports auth-js v5 & v6-7\n        const isInteractionRequiredError = this.oktaAuth.isInteractionRequiredError || this.oktaAuth.idx.isInteractionRequiredError;\n        if (isInteractionRequiredError(e) && this.injector) {\n          const {\n            onAuthResume,\n            onAuthRequired\n          } = config;\n          const callbackFn = onAuthResume || onAuthRequired;\n          if (callbackFn) {\n            callbackFn(this.oktaAuth, this.injector);\n            return;\n          }\n        }\n        this.error = e.toString();\n      }\n    });\n  }\n}\nOktaCallbackComponent.ɵfac = function OktaCallbackComponent_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || OktaCallbackComponent)(i0.ɵɵdirectiveInject(OktaAuthConfigService), i0.ɵɵdirectiveInject(OKTA_AUTH), i0.ɵɵdirectiveInject(i0.Injector, 8));\n};\nOktaCallbackComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: OktaCallbackComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 2,\n  vars: 1,\n  template: function OktaCallbackComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance();\n      i0.ɵɵtextInterpolate(ctx.error);\n    }\n  },\n  encapsulation: 2\n});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OktaCallbackComponent, [{\n    type: Component,\n    args: [{\n      template: `<div>{{error}}</div>`\n    }]\n  }], function () {\n    return [{\n      type: OktaAuthConfigService\n    }, {\n      type: i2.OktaAuth,\n      decorators: [{\n        type: Inject,\n        args: [OKTA_AUTH]\n      }]\n    }, {\n      type: i0.Injector,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\nvar __awaiter$2 = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nclass OktaAuthGuard {\n  constructor(oktaAuth, injector, configService) {\n    this.oktaAuth = oktaAuth;\n    this.injector = injector;\n    this.configService = configService;\n    this.updateAuthStateListener = authState => __awaiter$2(this, void 0, void 0, function* () {\n      const isAuthenticated = yield this.isAuthenticated(this.routeData, authState);\n      if (!isAuthenticated) {\n        this.handleLogin(this.state.url, this.routeData);\n      }\n    });\n    const config = this.configService.getConfig();\n    if (!config) {\n      throw new Error('Okta config is not provided');\n    }\n    this.onAuthRequired = config.onAuthRequired;\n    // Unsubscribe updateAuthStateListener when route change\n    const router = injector.get(Router);\n    router.events.pipe(filter(e => e instanceof NavigationStart && this.state && this.state.url !== e.url)).subscribe(() => {\n      this.oktaAuth.authStateManager.unsubscribe(this.updateAuthStateListener);\n    });\n  }\n  canLoad(route) {\n    var _a;\n    return __awaiter$2(this, void 0, void 0, function* () {\n      this.onAuthRequired = ((_a = route.data) === null || _a === void 0 ? void 0 : _a.onAuthRequired) || this.onAuthRequired;\n      const isAuthenticated = yield this.isAuthenticated(route.data);\n      if (isAuthenticated) {\n        return true;\n      }\n      const router = this.injector.get(Router);\n      const nav = router.getCurrentNavigation();\n      const originalUri = nav ? nav.extractedUrl.toString() : undefined;\n      yield this.handleLogin(originalUri, route.data);\n      return false;\n    });\n  }\n  /**\n   * Gateway for protected route. Returns true if there is a valid idToken,\n   * otherwise it will cache the route and start the login flow.\n   * @param route\n   * @param state\n   */\n  canActivate(route, state) {\n    return __awaiter$2(this, void 0, void 0, function* () {\n      // Track states for current route\n      this.state = state;\n      this.routeData = route.data;\n      this.onAuthRequired = route.data && route.data.onAuthRequired || this.onAuthRequired;\n      // Protect the route after accessing\n      this.oktaAuth.authStateManager.subscribe(this.updateAuthStateListener);\n      const isAuthenticated = yield this.isAuthenticated(route.data);\n      if (isAuthenticated) {\n        return true;\n      }\n      yield this.handleLogin(state.url, route.data);\n      return false;\n    });\n  }\n  canActivateChild(route, state) {\n    return __awaiter$2(this, void 0, void 0, function* () {\n      return this.canActivate(route, state);\n    });\n  }\n  isAuthenticated(routeData, authState) {\n    var _a, _b, _c;\n    return __awaiter$2(this, void 0, void 0, function* () {\n      const isAuthenticated = authState ? authState === null || authState === void 0 ? void 0 : authState.isAuthenticated : yield this.oktaAuth.isAuthenticated();\n      let res = isAuthenticated;\n      if ((_a = routeData === null || routeData === void 0 ? void 0 : routeData.okta) === null || _a === void 0 ? void 0 : _a.acrValues) {\n        if (!authState) {\n          authState = this.oktaAuth.authStateManager.getAuthState();\n        }\n        res = ((_b = authState === null || authState === void 0 ? void 0 : authState.idToken) === null || _b === void 0 ? void 0 : _b.claims.acr) === ((_c = routeData === null || routeData === void 0 ? void 0 : routeData.okta) === null || _c === void 0 ? void 0 : _c.acrValues);\n      }\n      return res;\n    });\n  }\n  handleLogin(originalUri, routeData) {\n    var _a;\n    return __awaiter$2(this, void 0, void 0, function* () {\n      // Store the current path\n      if (originalUri) {\n        this.oktaAuth.setOriginalUri(originalUri);\n      }\n      const options = {};\n      if ((_a = routeData === null || routeData === void 0 ? void 0 : routeData.okta) === null || _a === void 0 ? void 0 : _a.acrValues) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore Supports auth-js >= 7.1.0\n        options.acrValues = routeData.okta.acrValues;\n      }\n      if (this.onAuthRequired) {\n        this.onAuthRequired(this.oktaAuth, this.injector, options);\n      } else {\n        this.oktaAuth.signInWithRedirect(options);\n      }\n    });\n  }\n}\nOktaAuthGuard.ɵfac = function OktaAuthGuard_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || OktaAuthGuard)(i0.ɵɵinject(OKTA_AUTH), i0.ɵɵinject(i0.Injector), i0.ɵɵinject(OktaAuthConfigService));\n};\nOktaAuthGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: OktaAuthGuard,\n  factory: OktaAuthGuard.ɵfac\n});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OktaAuthGuard, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i2.OktaAuth,\n      decorators: [{\n        type: Inject,\n        args: [OKTA_AUTH]\n      }]\n    }, {\n      type: i0.Injector\n    }, {\n      type: OktaAuthConfigService\n    }];\n  }, null);\n})();\nvar __awaiter$1 = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nconst defaultAuthState = {\n  isAuthenticated: false\n};\nclass OktaAuthStateService {\n  constructor(oktaAuth) {\n    this.oktaAuth = oktaAuth;\n    this._authState = new BehaviorSubject(defaultAuthState);\n    // only expose readonly property\n    this.authState$ = this._authState.asObservable();\n    this.updateAuthState = this.updateAuthState.bind(this);\n    // set initial authState\n    const initialAuthState = this.oktaAuth.authStateManager.getAuthState() || defaultAuthState;\n    this._authState.next(initialAuthState);\n    // subscribe to future changes\n    this.oktaAuth.authStateManager.subscribe(this.updateAuthState);\n  }\n  ngOnDestroy() {\n    this.oktaAuth.authStateManager.unsubscribe(this.updateAuthState);\n  }\n  // Observes as true when any group input can match groups from user claims \n  hasAnyGroups(groups) {\n    return this.authState$.pipe(mergeMap(({\n      isAuthenticated,\n      idToken\n    }) => __awaiter$1(this, void 0, void 0, function* () {\n      // return false when not authenticated or openid is not in scopes\n      if (!isAuthenticated || !idToken) {\n        return false;\n      }\n      // transform inputs to consistent object format\n      if (typeof groups === 'string') {\n        groups = {\n          groups: [groups]\n        };\n      }\n      if (Array.isArray(groups)) {\n        groups = {\n          groups\n        };\n      }\n      const key = Object.keys(groups)[0];\n      const value = groups[key];\n      // groups or custom claims is available in idToken\n      if (idToken.claims[key]) {\n        return value.some(authority => idToken.claims[key].includes(authority));\n      }\n      // try /userinfo endpoint when thin idToken (no groups claim) is returned\n      // https://developer.okta.com/docs/concepts/api-access-management/#tokens-and-scopes\n      const userInfo = yield this.oktaAuth.getUser();\n      if (!userInfo[key]) {\n        return false;\n      }\n      return value.some(authority => userInfo[key].includes(authority));\n    })));\n  }\n  updateAuthState(authState) {\n    this._authState.next(authState);\n  }\n}\nOktaAuthStateService.ɵfac = function OktaAuthStateService_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || OktaAuthStateService)(i0.ɵɵinject(OKTA_AUTH));\n};\nOktaAuthStateService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: OktaAuthStateService,\n  factory: OktaAuthStateService.ɵfac\n});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OktaAuthStateService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i2.OktaAuth,\n      decorators: [{\n        type: Inject,\n        args: [OKTA_AUTH]\n      }]\n    }];\n  }, null);\n})();\nvar packageInfo = {\n  'name': '@okta/okta-angular',\n  'version': '6.4.0',\n  'authJSMinSupportedVersion': '5.3.1'\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nclass OktaAuthFactoryService {\n  static setupOktaAuth(oktaAuth, router, location) {\n    const isAuthJsSupported = oktaAuth._oktaUserAgent && compare(oktaAuth._oktaUserAgent.getVersion(), packageInfo.authJSMinSupportedVersion, '>=');\n    if (!isAuthJsSupported) {\n      throw new AuthSdkError(`Passed in oktaAuth is not compatible with the SDK, minimum supported okta-auth-js version is ${packageInfo.authJSMinSupportedVersion}.`);\n    }\n    // Add Okta UA\n    oktaAuth._oktaUserAgent.addEnvironment(`${packageInfo.name}/${packageInfo.version}`);\n    oktaAuth._oktaUserAgent.addEnvironment(`Angular/${VERSION.full}`);\n    // Provide a default implementation of `restoreOriginalUri`\n    if (!oktaAuth.options.restoreOriginalUri && router && location) {\n      oktaAuth.options.restoreOriginalUri = (_, originalUri) => __awaiter(this, void 0, void 0, function* () {\n        const baseUrl = window.location.origin + location.prepareExternalUrl('');\n        const routePath = toRelativeUrl(originalUri || '/', baseUrl);\n        router.navigateByUrl(routePath);\n      });\n    }\n    // Start services\n    oktaAuth.start();\n  }\n  static createOktaAuth(configService, router, location) {\n    const config = configService.getConfig();\n    if (!config) {\n      throw new Error('Okta config is not provided');\n    }\n    const {\n      oktaAuth\n    } = config;\n    if (!oktaAuth) {\n      throw new Error('Okta config should contain oktaAuth');\n    }\n    OktaAuthFactoryService.setupOktaAuth(oktaAuth, router, location);\n    return oktaAuth;\n  }\n}\nclass OktaHasAnyGroupDirective {\n  constructor(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  templateRef, viewContainer, authStateService) {\n    this.templateRef = templateRef;\n    this.viewContainer = viewContainer;\n    this.authStateService = authStateService;\n    this.groupsSub$ = new ReplaySubject();\n    this.destroySub$ = new Subject();\n  }\n  ngOnInit() {\n    this.groupsSub$.pipe(filter(groups => !!groups), switchMap(groups => this.authStateService.hasAnyGroups(groups)), takeUntil(this.destroySub$)).subscribe(isAuthorized => {\n      this.viewContainer.clear();\n      if (isAuthorized) {\n        this.viewContainer.createEmbeddedView(this.templateRef);\n      }\n    });\n  }\n  ngOnChanges(changes) {\n    if (changes['oktaHasAnyGroup'].currentValue !== changes['oktaHasAnyGroup'].previousValue) {\n      this.groupsSub$.next(changes['oktaHasAnyGroup'].currentValue);\n    }\n  }\n  ngOnDestroy() {\n    this.destroySub$.next();\n    this.destroySub$.complete();\n  }\n}\nOktaHasAnyGroupDirective.ɵfac = function OktaHasAnyGroupDirective_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || OktaHasAnyGroupDirective)(i0.ɵɵdirectiveInject(i0.TemplateRef), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(OktaAuthStateService));\n};\nOktaHasAnyGroupDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: OktaHasAnyGroupDirective,\n  selectors: [[\"\", \"oktaHasAnyGroup\", \"\"]],\n  inputs: {\n    oktaHasAnyGroup: \"oktaHasAnyGroup\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature]\n});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OktaHasAnyGroupDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[oktaHasAnyGroup]'\n    }]\n  }], function () {\n    return [{\n      type: i0.TemplateRef\n    }, {\n      type: i0.ViewContainerRef\n    }, {\n      type: OktaAuthStateService\n    }];\n  }, {\n    oktaHasAnyGroup: [{\n      type: Input\n    }]\n  });\n})();\n\n/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nclass OktaAuthModule {\n  static forRoot(config) {\n    return {\n      ngModule: OktaAuthModule,\n      providers: [{\n        provide: OKTA_CONFIG,\n        useValue: config\n      }]\n    };\n  }\n}\nOktaAuthModule.ɵfac = function OktaAuthModule_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || OktaAuthModule)();\n};\nOktaAuthModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: OktaAuthModule\n});\nOktaAuthModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [OktaAuthConfigService, OktaAuthStateService, OktaAuthGuard, {\n    provide: OKTA_AUTH,\n    useFactory: OktaAuthFactoryService.createOktaAuth,\n    deps: [OktaAuthConfigService, [new Optional(), Router], [new Optional(), Location]]\n  }]\n});\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OktaAuthModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [OktaCallbackComponent, OktaHasAnyGroupDirective],\n      exports: [OktaCallbackComponent, OktaHasAnyGroupDirective],\n      providers: [OktaAuthConfigService, OktaAuthStateService, OktaAuthGuard, {\n        provide: OKTA_AUTH,\n        useFactory: OktaAuthFactoryService.createOktaAuth,\n        deps: [OktaAuthConfigService, [new Optional(), Router], [new Optional(), Location]]\n      }]\n    }]\n  }], null, null);\n})();\n\n/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/**\n * Entry point for all public APIs of the package.\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { OKTA_AUTH, OKTA_CONFIG, OktaAuthConfigService, OktaAuthGuard, OktaAuthModule, OktaAuthStateService, OktaCallbackComponent, OktaHasAnyGroupDirective };","map":{"version":3,"names":["i0","InjectionToken","Injectable","Optional","Inject","Component","VERSION","Directive","Input","NgModule","Router","NavigationStart","Location","i2","AuthSdkError","toRelativeUrl","filter","mergeMap","switchMap","takeUntil","BehaviorSubject","ReplaySubject","Subject","compare","OKTA_CONFIG","OKTA_AUTH","OktaAuthConfigService","constructor","config","getConfig","setConfig","ɵfac","OktaAuthConfigService_Factory","__ngFactoryType__","ɵɵinject","ɵprov","ɵɵdefineInjectable","token","factory","providedIn","ngDevMode","ɵsetClassMetadata","type","args","undefined","decorators","__awaiter$3","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","OktaCallbackComponent","configService","oktaAuth","injector","ngOnInit","Error","handleLoginRedirect","isInteractionRequiredError","idx","onAuthResume","onAuthRequired","callbackFn","error","toString","OktaCallbackComponent_Factory","ɵɵdirectiveInject","Injector","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","template","OktaCallbackComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","encapsulation","OktaAuth","__awaiter$2","OktaAuthGuard","updateAuthStateListener","authState","isAuthenticated","routeData","handleLogin","state","url","router","get","events","pipe","subscribe","authStateManager","unsubscribe","canLoad","route","_a","data","nav","getCurrentNavigation","originalUri","extractedUrl","canActivate","canActivateChild","_b","_c","res","okta","acrValues","getAuthState","idToken","claims","acr","setOriginalUri","options","signInWithRedirect","OktaAuthGuard_Factory","__awaiter$1","defaultAuthState","OktaAuthStateService","_authState","authState$","asObservable","updateAuthState","bind","initialAuthState","ngOnDestroy","hasAnyGroups","groups","Array","isArray","key","Object","keys","some","authority","includes","userInfo","getUser","OktaAuthStateService_Factory","packageInfo","OktaAuthFactoryService","setupOktaAuth","location","isAuthJsSupported","_oktaUserAgent","getVersion","authJSMinSupportedVersion","addEnvironment","name","version","full","restoreOriginalUri","_","baseUrl","window","origin","prepareExternalUrl","routePath","navigateByUrl","start","createOktaAuth","OktaHasAnyGroupDirective","templateRef","viewContainer","authStateService","groupsSub$","destroySub$","isAuthorized","clear","createEmbeddedView","ngOnChanges","changes","currentValue","previousValue","complete","OktaHasAnyGroupDirective_Factory","TemplateRef","ViewContainerRef","ɵdir","ɵɵdefineDirective","inputs","oktaHasAnyGroup","features","ɵɵNgOnChangesFeature","selector","OktaAuthModule","forRoot","ngModule","providers","provide","useValue","OktaAuthModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","useFactory","deps","declarations","exports"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-angular/fesm2015/okta-okta-angular.js"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, Component, VERSION, Directive, Input, NgModule } from '@angular/core';\nimport { Router, NavigationStart } from '@angular/router';\nimport { Location } from '@angular/common';\nimport * as i2 from '@okta/okta-auth-js';\nimport { AuthSdkError, toRelativeUrl } from '@okta/okta-auth-js';\nimport { filter, mergeMap, switchMap, takeUntil } from 'rxjs/operators';\nimport { BehaviorSubject, ReplaySubject, Subject } from 'rxjs';\nimport { compare } from 'compare-versions';\n\n/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nconst OKTA_CONFIG = new InjectionToken('okta.config.angular');\nconst OKTA_AUTH = new InjectionToken('okta.auth');\n\nclass OktaAuthConfigService {\n    constructor(config) {\n        if (config) {\n            this.config = config;\n        }\n    }\n    getConfig() {\n        return this.config;\n    }\n    setConfig(config) {\n        this.config = config;\n    }\n}\nOktaAuthConfigService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthConfigService, deps: [{ token: OKTA_CONFIG, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nOktaAuthConfigService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthConfigService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthConfigService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [OKTA_CONFIG]\n                }] }]; } });\n\nvar __awaiter$3 = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass OktaCallbackComponent {\n    constructor(configService, oktaAuth, injector) {\n        this.configService = configService;\n        this.oktaAuth = oktaAuth;\n        this.injector = injector;\n    }\n    ngOnInit() {\n        return __awaiter$3(this, void 0, void 0, function* () {\n            const config = this.configService.getConfig();\n            if (!config) {\n                throw new Error('Okta config is not provided');\n            }\n            try {\n                // Parse code or tokens from the URL, store tokens in the TokenManager, and redirect back to the originalUri\n                yield this.oktaAuth.handleLoginRedirect();\n            }\n            catch (e) {\n                // Callback from social IDP. Show custom login page to continue.\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore Supports auth-js v5 & v6-7\n                const isInteractionRequiredError = this.oktaAuth.isInteractionRequiredError || this.oktaAuth.idx.isInteractionRequiredError;\n                if (isInteractionRequiredError(e) && this.injector) {\n                    const { onAuthResume, onAuthRequired } = config;\n                    const callbackFn = onAuthResume || onAuthRequired;\n                    if (callbackFn) {\n                        callbackFn(this.oktaAuth, this.injector);\n                        return;\n                    }\n                }\n                this.error = e.toString();\n            }\n        });\n    }\n}\nOktaCallbackComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaCallbackComponent, deps: [{ token: OktaAuthConfigService }, { token: OKTA_AUTH }, { token: i0.Injector, optional: true }], target: i0.ɵɵFactoryTarget.Component });\nOktaCallbackComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.17\", type: OktaCallbackComponent, selector: \"ng-component\", ngImport: i0, template: `<div>{{error}}</div>`, isInline: true });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaCallbackComponent, decorators: [{\n            type: Component,\n            args: [{\n                    template: `<div>{{error}}</div>`\n                }]\n        }], ctorParameters: function () { return [{ type: OktaAuthConfigService }, { type: i2.OktaAuth, decorators: [{\n                    type: Inject,\n                    args: [OKTA_AUTH]\n                }] }, { type: i0.Injector, decorators: [{\n                    type: Optional\n                }] }]; } });\n\nvar __awaiter$2 = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass OktaAuthGuard {\n    constructor(oktaAuth, injector, configService) {\n        this.oktaAuth = oktaAuth;\n        this.injector = injector;\n        this.configService = configService;\n        this.updateAuthStateListener = (authState) => __awaiter$2(this, void 0, void 0, function* () {\n            const isAuthenticated = yield this.isAuthenticated(this.routeData, authState);\n            if (!isAuthenticated) {\n                this.handleLogin(this.state.url, this.routeData);\n            }\n        });\n        const config = this.configService.getConfig();\n        if (!config) {\n            throw new Error('Okta config is not provided');\n        }\n        this.onAuthRequired = config.onAuthRequired;\n        // Unsubscribe updateAuthStateListener when route change\n        const router = injector.get(Router);\n        router.events.pipe(filter((e) => e instanceof NavigationStart && this.state && this.state.url !== e.url)).subscribe(() => {\n            this.oktaAuth.authStateManager.unsubscribe(this.updateAuthStateListener);\n        });\n    }\n    canLoad(route) {\n        var _a;\n        return __awaiter$2(this, void 0, void 0, function* () {\n            this.onAuthRequired = ((_a = route.data) === null || _a === void 0 ? void 0 : _a.onAuthRequired) || this.onAuthRequired;\n            const isAuthenticated = yield this.isAuthenticated(route.data);\n            if (isAuthenticated) {\n                return true;\n            }\n            const router = this.injector.get(Router);\n            const nav = router.getCurrentNavigation();\n            const originalUri = nav ? nav.extractedUrl.toString() : undefined;\n            yield this.handleLogin(originalUri, route.data);\n            return false;\n        });\n    }\n    /**\n     * Gateway for protected route. Returns true if there is a valid idToken,\n     * otherwise it will cache the route and start the login flow.\n     * @param route\n     * @param state\n     */\n    canActivate(route, state) {\n        return __awaiter$2(this, void 0, void 0, function* () {\n            // Track states for current route\n            this.state = state;\n            this.routeData = route.data;\n            this.onAuthRequired = route.data && route.data.onAuthRequired || this.onAuthRequired;\n            // Protect the route after accessing\n            this.oktaAuth.authStateManager.subscribe(this.updateAuthStateListener);\n            const isAuthenticated = yield this.isAuthenticated(route.data);\n            if (isAuthenticated) {\n                return true;\n            }\n            yield this.handleLogin(state.url, route.data);\n            return false;\n        });\n    }\n    canActivateChild(route, state) {\n        return __awaiter$2(this, void 0, void 0, function* () {\n            return this.canActivate(route, state);\n        });\n    }\n    isAuthenticated(routeData, authState) {\n        var _a, _b, _c;\n        return __awaiter$2(this, void 0, void 0, function* () {\n            const isAuthenticated = authState ? authState === null || authState === void 0 ? void 0 : authState.isAuthenticated : yield this.oktaAuth.isAuthenticated();\n            let res = isAuthenticated;\n            if ((_a = routeData === null || routeData === void 0 ? void 0 : routeData.okta) === null || _a === void 0 ? void 0 : _a.acrValues) {\n                if (!authState) {\n                    authState = this.oktaAuth.authStateManager.getAuthState();\n                }\n                res = ((_b = authState === null || authState === void 0 ? void 0 : authState.idToken) === null || _b === void 0 ? void 0 : _b.claims.acr) === ((_c = routeData === null || routeData === void 0 ? void 0 : routeData.okta) === null || _c === void 0 ? void 0 : _c.acrValues);\n            }\n            return res;\n        });\n    }\n    handleLogin(originalUri, routeData) {\n        var _a;\n        return __awaiter$2(this, void 0, void 0, function* () {\n            // Store the current path\n            if (originalUri) {\n                this.oktaAuth.setOriginalUri(originalUri);\n            }\n            const options = {};\n            if ((_a = routeData === null || routeData === void 0 ? void 0 : routeData.okta) === null || _a === void 0 ? void 0 : _a.acrValues) {\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore Supports auth-js >= 7.1.0\n                options.acrValues = routeData.okta.acrValues;\n            }\n            if (this.onAuthRequired) {\n                this.onAuthRequired(this.oktaAuth, this.injector, options);\n            }\n            else {\n                this.oktaAuth.signInWithRedirect(options);\n            }\n        });\n    }\n}\nOktaAuthGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthGuard, deps: [{ token: OKTA_AUTH }, { token: i0.Injector }, { token: OktaAuthConfigService }], target: i0.ɵɵFactoryTarget.Injectable });\nOktaAuthGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthGuard });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthGuard, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i2.OktaAuth, decorators: [{\n                    type: Inject,\n                    args: [OKTA_AUTH]\n                }] }, { type: i0.Injector }, { type: OktaAuthConfigService }]; } });\n\nvar __awaiter$1 = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nconst defaultAuthState = {\n    isAuthenticated: false\n};\nclass OktaAuthStateService {\n    constructor(oktaAuth) {\n        this.oktaAuth = oktaAuth;\n        this._authState = new BehaviorSubject(defaultAuthState);\n        // only expose readonly property\n        this.authState$ = this._authState.asObservable();\n        this.updateAuthState = this.updateAuthState.bind(this);\n        // set initial authState\n        const initialAuthState = this.oktaAuth.authStateManager.getAuthState() || defaultAuthState;\n        this._authState.next(initialAuthState);\n        // subscribe to future changes\n        this.oktaAuth.authStateManager.subscribe(this.updateAuthState);\n    }\n    ngOnDestroy() {\n        this.oktaAuth.authStateManager.unsubscribe(this.updateAuthState);\n    }\n    // Observes as true when any group input can match groups from user claims \n    hasAnyGroups(groups) {\n        return this.authState$.pipe(mergeMap(({ isAuthenticated, idToken }) => __awaiter$1(this, void 0, void 0, function* () {\n            // return false when not authenticated or openid is not in scopes\n            if (!isAuthenticated || !idToken) {\n                return false;\n            }\n            // transform inputs to consistent object format\n            if (typeof groups === 'string') {\n                groups = { groups: [groups] };\n            }\n            if (Array.isArray(groups)) {\n                groups = { groups };\n            }\n            const key = Object.keys(groups)[0];\n            const value = groups[key];\n            // groups or custom claims is available in idToken\n            if (idToken.claims[key]) {\n                return value.some((authority) => idToken.claims[key].includes(authority));\n            }\n            // try /userinfo endpoint when thin idToken (no groups claim) is returned\n            // https://developer.okta.com/docs/concepts/api-access-management/#tokens-and-scopes\n            const userInfo = yield this.oktaAuth.getUser();\n            if (!userInfo[key]) {\n                return false;\n            }\n            return value.some((authority) => userInfo[key].includes(authority));\n        })));\n    }\n    updateAuthState(authState) {\n        this._authState.next(authState);\n    }\n}\nOktaAuthStateService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthStateService, deps: [{ token: OKTA_AUTH }], target: i0.ɵɵFactoryTarget.Injectable });\nOktaAuthStateService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthStateService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthStateService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i2.OktaAuth, decorators: [{\n                    type: Inject,\n                    args: [OKTA_AUTH]\n                }] }]; } });\n\nvar packageInfo = {\n    'name': '@okta/okta-angular',\n    'version': '6.4.0',\n    'authJSMinSupportedVersion': '5.3.1'\n};\n\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass OktaAuthFactoryService {\n    static setupOktaAuth(oktaAuth, router, location) {\n        const isAuthJsSupported = oktaAuth._oktaUserAgent && compare(oktaAuth._oktaUserAgent.getVersion(), packageInfo.authJSMinSupportedVersion, '>=');\n        if (!isAuthJsSupported) {\n            throw new AuthSdkError(`Passed in oktaAuth is not compatible with the SDK, minimum supported okta-auth-js version is ${packageInfo.authJSMinSupportedVersion}.`);\n        }\n        // Add Okta UA\n        oktaAuth._oktaUserAgent.addEnvironment(`${packageInfo.name}/${packageInfo.version}`);\n        oktaAuth._oktaUserAgent.addEnvironment(`Angular/${VERSION.full}`);\n        // Provide a default implementation of `restoreOriginalUri`\n        if (!oktaAuth.options.restoreOriginalUri && router && location) {\n            oktaAuth.options.restoreOriginalUri = (_, originalUri) => __awaiter(this, void 0, void 0, function* () {\n                const baseUrl = window.location.origin + location.prepareExternalUrl('');\n                const routePath = toRelativeUrl(originalUri || '/', baseUrl);\n                router.navigateByUrl(routePath);\n            });\n        }\n        // Start services\n        oktaAuth.start();\n    }\n    static createOktaAuth(configService, router, location) {\n        const config = configService.getConfig();\n        if (!config) {\n            throw new Error('Okta config is not provided');\n        }\n        const { oktaAuth } = config;\n        if (!oktaAuth) {\n            throw new Error('Okta config should contain oktaAuth');\n        }\n        OktaAuthFactoryService.setupOktaAuth(oktaAuth, router, location);\n        return oktaAuth;\n    }\n}\n\nclass OktaHasAnyGroupDirective {\n    constructor(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    templateRef, viewContainer, authStateService) {\n        this.templateRef = templateRef;\n        this.viewContainer = viewContainer;\n        this.authStateService = authStateService;\n        this.groupsSub$ = new ReplaySubject();\n        this.destroySub$ = new Subject();\n    }\n    ngOnInit() {\n        this.groupsSub$.pipe(filter(groups => !!groups), switchMap(groups => this.authStateService.hasAnyGroups(groups)), takeUntil(this.destroySub$)).subscribe(isAuthorized => {\n            this.viewContainer.clear();\n            if (isAuthorized) {\n                this.viewContainer.createEmbeddedView(this.templateRef);\n            }\n        });\n    }\n    ngOnChanges(changes) {\n        if (changes['oktaHasAnyGroup'].currentValue !== changes['oktaHasAnyGroup'].previousValue) {\n            this.groupsSub$.next(changes['oktaHasAnyGroup'].currentValue);\n        }\n    }\n    ngOnDestroy() {\n        this.destroySub$.next();\n        this.destroySub$.complete();\n    }\n}\nOktaHasAnyGroupDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaHasAnyGroupDirective, deps: [{ token: i0.TemplateRef }, { token: i0.ViewContainerRef }, { token: OktaAuthStateService }], target: i0.ɵɵFactoryTarget.Directive });\nOktaHasAnyGroupDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.17\", type: OktaHasAnyGroupDirective, selector: \"[oktaHasAnyGroup]\", inputs: { oktaHasAnyGroup: \"oktaHasAnyGroup\" }, usesOnChanges: true, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaHasAnyGroupDirective, decorators: [{\n            type: Directive,\n            args: [{ selector: '[oktaHasAnyGroup]' }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }, { type: i0.ViewContainerRef }, { type: OktaAuthStateService }]; }, propDecorators: { oktaHasAnyGroup: [{\n                type: Input\n            }] } });\n\n/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\nclass OktaAuthModule {\n    static forRoot(config) {\n        return {\n            ngModule: OktaAuthModule,\n            providers: [\n                { provide: OKTA_CONFIG, useValue: config },\n            ]\n        };\n    }\n}\nOktaAuthModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nOktaAuthModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthModule, declarations: [OktaCallbackComponent,\n        OktaHasAnyGroupDirective], exports: [OktaCallbackComponent,\n        OktaHasAnyGroupDirective] });\nOktaAuthModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthModule, providers: [\n        OktaAuthConfigService,\n        OktaAuthStateService,\n        OktaAuthGuard,\n        {\n            provide: OKTA_AUTH,\n            useFactory: OktaAuthFactoryService.createOktaAuth,\n            deps: [\n                OktaAuthConfigService,\n                [new Optional(), Router],\n                [new Optional(), Location]\n            ]\n        },\n    ] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: OktaAuthModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        OktaCallbackComponent,\n                        OktaHasAnyGroupDirective,\n                    ],\n                    exports: [\n                        OktaCallbackComponent,\n                        OktaHasAnyGroupDirective,\n                    ],\n                    providers: [\n                        OktaAuthConfigService,\n                        OktaAuthStateService,\n                        OktaAuthGuard,\n                        {\n                            provide: OKTA_AUTH,\n                            useFactory: OktaAuthFactoryService.createOktaAuth,\n                            deps: [\n                                OktaAuthConfigService,\n                                [new Optional(), Router],\n                                [new Optional(), Location]\n                            ]\n                        },\n                    ]\n                }]\n        }] });\n\n/*\n * Copyright (c) 2017-Present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/**\n * Entry point for all public APIs of the package.\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { OKTA_AUTH, OKTA_CONFIG, OktaAuthConfigService, OktaAuthGuard, OktaAuthModule, OktaAuthStateService, OktaCallbackComponent, OktaHasAnyGroupDirective };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}