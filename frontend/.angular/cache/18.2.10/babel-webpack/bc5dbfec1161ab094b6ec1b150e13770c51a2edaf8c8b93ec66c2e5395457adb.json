{"ast":null,"code":"/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport AuthSdkError from '../errors/AuthSdkError.js';\nimport '../errors/WWWAuthError.js';\nimport { post } from '../http/request.js';\nimport { STATE_TOKEN_KEY_NAME } from '../constants.js';\nimport 'tiny-emitter';\nimport 'js-cookie';\nimport 'cross-fetch';\nimport { addStateToken } from './util/stateToken.js';\nfunction transactionStatus(sdk, args) {\n  args = addStateToken(sdk, args);\n  return post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn', args, {\n    withCredentials: true\n  });\n}\nfunction resumeTransaction(sdk, tx, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = getSavedStateToken(sdk);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to resume'));\n    }\n  }\n  return transactionStatus(sdk, args).then(function (res) {\n    return tx.createTransaction(res);\n  });\n}\nfunction introspectAuthn(sdk, tx, args) {\n  if (!args || !args.stateToken) {\n    var stateToken = getSavedStateToken(sdk);\n    if (stateToken) {\n      args = {\n        stateToken: stateToken\n      };\n    } else {\n      return Promise.reject(new AuthSdkError('No transaction to evaluate'));\n    }\n  }\n  return transactionStep(sdk, args).then(function (res) {\n    return tx.createTransaction(res);\n  });\n}\nfunction transactionStep(sdk, args) {\n  args = addStateToken(sdk, args);\n  return post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn/introspect', args, {\n    withCredentials: true\n  });\n}\nfunction transactionExists(sdk) {\n  return !!getSavedStateToken(sdk);\n}\nfunction postToTransaction(sdk, tx, url, args, options) {\n  options = Object.assign({\n    withCredentials: true\n  }, options);\n  return post(sdk, url, args, options).then(function (res) {\n    return tx.createTransaction(res);\n  });\n}\nfunction getSavedStateToken(sdk) {\n  const storage = sdk.options.storageUtil.storage;\n  return storage.get(STATE_TOKEN_KEY_NAME);\n}\nexport { getSavedStateToken, introspectAuthn, postToTransaction, resumeTransaction, transactionExists, transactionStatus, transactionStep };","map":{"version":3,"names":["AuthSdkError","post","STATE_TOKEN_KEY_NAME","addStateToken","transactionStatus","sdk","args","getIssuerOrigin","withCredentials","resumeTransaction","tx","stateToken","getSavedStateToken","Promise","reject","then","res","createTransaction","introspectAuthn","transactionStep","transactionExists","postToTransaction","url","options","Object","assign","storage","storageUtil","get"],"sources":["C:/SpringBOot/ecommerce-project/03-frontend/angular-ecommerce/node_modules/@okta/okta-auth-js/esm/browser/authn/api.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\nimport AuthSdkError from '../errors/AuthSdkError.js';\nimport '../errors/WWWAuthError.js';\nimport { post } from '../http/request.js';\nimport { STATE_TOKEN_KEY_NAME } from '../constants.js';\nimport 'tiny-emitter';\nimport 'js-cookie';\nimport 'cross-fetch';\nimport { addStateToken } from './util/stateToken.js';\n\nfunction transactionStatus(sdk, args) {\n    args = addStateToken(sdk, args);\n    return post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn', args, { withCredentials: true });\n}\nfunction resumeTransaction(sdk, tx, args) {\n    if (!args || !args.stateToken) {\n        var stateToken = getSavedStateToken(sdk);\n        if (stateToken) {\n            args = {\n                stateToken: stateToken\n            };\n        }\n        else {\n            return Promise.reject(new AuthSdkError('No transaction to resume'));\n        }\n    }\n    return transactionStatus(sdk, args)\n        .then(function (res) {\n        return tx.createTransaction(res);\n    });\n}\nfunction introspectAuthn(sdk, tx, args) {\n    if (!args || !args.stateToken) {\n        var stateToken = getSavedStateToken(sdk);\n        if (stateToken) {\n            args = {\n                stateToken: stateToken\n            };\n        }\n        else {\n            return Promise.reject(new AuthSdkError('No transaction to evaluate'));\n        }\n    }\n    return transactionStep(sdk, args)\n        .then(function (res) {\n        return tx.createTransaction(res);\n    });\n}\nfunction transactionStep(sdk, args) {\n    args = addStateToken(sdk, args);\n    return post(sdk, sdk.getIssuerOrigin() + '/api/v1/authn/introspect', args, { withCredentials: true });\n}\nfunction transactionExists(sdk) {\n    return !!getSavedStateToken(sdk);\n}\nfunction postToTransaction(sdk, tx, url, args, options) {\n    options = Object.assign({ withCredentials: true }, options);\n    return post(sdk, url, args, options)\n        .then(function (res) {\n        return tx.createTransaction(res);\n    });\n}\nfunction getSavedStateToken(sdk) {\n    const storage = sdk.options.storageUtil.storage;\n    return storage.get(STATE_TOKEN_KEY_NAME);\n}\n\nexport { getSavedStateToken, introspectAuthn, postToTransaction, resumeTransaction, transactionExists, transactionStatus, transactionStep };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}